## Создание моделей в Laravel 11

Модели - неотъемлемая часть фреймворка Laravel, представляющая собой объекты PHP, которые взаимодействуют с таблицами в вашей базе данных. С помощью моделей вы можете извлекать, создавать, обновлять и удалять записи в базе данных, используя элегантный и выразительный синтаксис. 

### Создание модели

Для создания модели в Laravel используется artisan-команда `make:model`. Откройте терминал и выполните команду:

```bash
php artisan make:model User
```

Эта команда создаст новый файл модели `User.php` в директории `app/Models`. 

#### Пример кода модели `User`:

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    //
}
```

По умолчанию Laravel предполагает, что имя модели в единственном числе соответствует имени таблицы во множественном числе. В данном случае модель `User` будет связана с таблицей `users`. Если ваша таблица имеет другое имя, вы можете указать его явно, используя свойство `$table`:

```php
<?php

// ...

class User extends Model
{
    protected $table = 'my_users_table';
}
```

### Атрибуты модели

Атрибуты модели представляют собой столбцы таблицы базы данных. Вы можете получить доступ к атрибутам модели как к свойствам объекта:

```php
$user = User::find(1);

echo $user->name; // Выведет имя пользователя
```

#### Массовое присвоение атрибутов

Для защиты от массового присвоения нежелательных данных, Laravel использует свойство `$fillable`. В этом свойстве вы указываете, какие атрибуты модели могут быть заполнены массово:

```php
<?php

// ...

class User extends Model
{
    protected $fillable = [
        'name',
        'email',
        'password',
    ];
}
```

Теперь при создании или обновлении модели можно использовать метод `create` или `update` с массивом данных:

```php
$user = User::create([
    'name' => 'Иван',
    'email' => 'ivan@example.com',
    'password' => 'secret',
]);
```

### Получение данных из базы данных

Laravel предоставляет множество способов для получения данных из базы данных с помощью моделей.

#### Метод `all()`

Метод `all()` возвращает все записи из таблицы:

```php
$users = User::all();
```

#### Метод `find()`

Метод `find()` позволяет найти запись по ее первичному ключу:

```php
$user = User::find(1);
```

#### Метод `first()`

Метод `first()` возвращает первую найденную запись:

```php
$user = User::where('name', 'Иван')->first();
```

#### Метод `get()`

Метод `get()` возвращает коллекцию моделей, соответствующих заданным условиям:

```php
$users = User::where('age', '>', 25)->get();
```

### Создание записей

Для создания новой записи в базе данных используйте метод `create`:

```php
$user = User::create([
    'name' => 'Петр',
    'email' => 'petr@example.com',
    'password' => bcrypt('password'),
]);
```

### Обновление записей

Для обновления записи найдите ее с помощью метода `find()` или `first()`, а затем обновите атрибуты и сохраните модель:

```php
$user = User::find(1);

$user->name = 'Новый Иван';

$user->save();
```

### Удаление записей

Для удаления записи используйте метод `delete`:

```php
$user = User::find(1);

$user->delete();
```

### Вывод

Модели Laravel предоставляют мощный и удобный способ взаимодействия с базой данных. С помощью моделей вы можете легко извлекать, создавать, обновлять и удалять записи, используя выразительный и лаконичный синтаксис. 
