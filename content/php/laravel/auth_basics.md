## Встроенная аутентификация Laravel

Laravel упрощает реализацию аутентификации пользователей в ваших веб-приложениях. Фреймворк предоставляет готовую к использованию систему, которая заботится о регистрации, аутентификации, сбросе паролей и других важных аспектах безопасности.

### Настройка аутентификации

Прежде чем начать использовать встроенную аутентификацию, вам необходимо выполнить несколько шагов настройки:

1. **Установка Laravel Breeze**:

   Laravel Breeze - это пакет, предоставляющий минималистичный и настраиваемый шаблон аутентификации для Laravel. Вы можете установить его с помощью Composer:

   ```bash
   composer require laravel/breeze --dev
   ```

2. **Установка Breeze**:

   После установки пакета Breeze, выполните команду установки, чтобы опубликовать необходимые представления, маршруты и контроллеры:

   ```bash
   php artisan breeze:install
   ```

3. **Миграция базы данных**:

   Breeze создаст необходимые таблицы для пользователей и других связанных с аутентификацией данных. Примените миграции с помощью команды:

   ```bash
   php artisan migrate
   ```

4. **Запуск сервера разработки**:

   Запустите сервер разработки Laravel, чтобы просмотреть изменения:

   ```bash
   php artisan serve
   ```

Теперь, если вы перейдете по адресу `http://localhost:8000/login` или `http://localhost:8000/register`, вы увидите страницы входа и регистрации, созданные Breeze.

### Изучение маршрутов аутентификации

Laravel Breeze регистрирует несколько маршрутов для обработки различных действий аутентификации. Давайте рассмотрим некоторые из них:

| Маршрут        | Описание                                       |
|-----------------|------------------------------------------------|
| /login         | Отображает форму входа в систему.           |
| /register      | Отображает форму регистрации.                 |
| /logout        | Выход пользователя из системы.                |
| /password/reset| Отображает форму сброса пароля.          |

### Аутентификация пользователей

После настройки аутентификации вы можете аутентифицировать пользователей в своем приложении, используя фасад `Auth`:

```php
use Illuminate\Support\Facades\Auth;

// Попытка аутентификации пользователя
if (Auth::attempt(['email' => $email, 'password' => $password])) {
    // Аутентификация успешна
    return redirect()->intended('dashboard'); 
} else {
    // Неверные учетные данные
    return back()->withErrors(['email' => 'Неверный email или пароль.']);
}
```

В этом примере метод `attempt` фасада `Auth` пытается аутентифицировать пользователя с указанным адресом электронной почты и паролем. Если учетные данные верны, пользователь будет перенаправлен на маршрут 'dashboard'. В противном случае пользователю будет возвращена ошибка.

### Защита маршрутов

Чтобы защитить маршруты и разрешить доступ только аутентифицированным пользователям, вы можете использовать middleware `auth`. Например, вы можете защитить маршрут 'dashboard' следующим образом:

```php
Route::get('/dashboard', function () {
    // Логика маршрута 'dashboard'
})->middleware('auth');
```

Теперь доступ к маршруту `dashboard` будет ограничен только для аутентифицированных пользователей. 

### Вывод

Встроенная аутентификация Laravel предоставляет простой и эффективный способ реализации аутентификации пользователей в ваших приложениях. С помощью нескольких команд и строк кода вы можете настроить безопасную систему аутентификации, готовую к работе.
