## Определение маршрутов в файле `routes/web.php`

Файл `routes/web.php` является центральным местом для определения маршрутов вашего веб-приложения на Laravel. В этом файле вы регистрируете все URL-адреса, на которые ваше приложение будет отвечать, и определяете, какой код должен выполняться при обращении к этим адресам.

### Базовая структура маршрута

Каждый маршрут в Laravel состоит из двух основных компонентов:

1. **URI (Uniform Resource Identifier)**: Путь к ресурсу, который пользователь будет вводить в адресной строке браузера.
2. **Обработчик**: Код, который будет выполняться при обращении к указанному URI.

```php
use Illuminate\Support\Facades\Route;

Route::get('/привет', function () {
    return 'Привет, мир!';
});
```

В этом примере мы используем метод `get()` фасада `Route`, чтобы зарегистрировать маршрут для HTTP-запроса GET на URI `/привет`. Обработчиком является анонимная функция, которая возвращает строку "Привет, мир!".

### Методы HTTP

Laravel предоставляет методы для регистрации маршрутов для всех основных HTTP-методов:

| Метод    | Описание                                                                                               |
| --------- | ----------------------------------------------------------------------------------------------------- |
| `get()`   | Обработка GET-запросов (получение данных).                                                             |
| `post()`  | Обработка POST-запросов (отправка данных, например, из формы).                                       |
| `put()`   | Обработка PUT-запросов (полное обновление ресурса).                                                  |
| `patch()` | Обработка PATCH-запросов (частичное обновление ресурса).                                             |
| `delete()`| Обработка DELETE-запросов (удаление ресурса).                                                         |
| `any()`   | Обработка запросов с любым HTTP-методом.                                                              |

### Передача параметров в маршруты

Часто вам потребуется передавать данные в ваши маршруты. Laravel позволяет делать это с помощью параметров пути:

```php
Route::get('/пользователь/{id}', function ($id) {
    return 'Пользователь с ID: ' . $id;
});
```

В этом примере `{id}` является параметром пути. Laravel автоматически передаст значение этого параметра в анонимную функцию в качестве аргумента.

### Именование маршрутов

Для удобства использования маршрутов в вашем приложении рекомендуется давать им имена:

```php
Route::get('/пользователь/{id}', function ($id) {
    // ...
})->name('user.profile');
```

Теперь вы можете ссылаться на этот маршрут по его имени, например:

```php
<a href="{{ route('user.profile', ['id' => 1]) }}">Профиль пользователя 1</a>
```

### Группировка маршрутов

Для лучшей организации кода вы можете группировать маршруты с помощью метода `group()`:

```php
Route::group(['prefix' => 'admin'], function () {
    Route::get('/', function () {
        return 'Админ панель';
    });

    Route::get('/users', function () {
        return 'Список пользователей';
    });
});
```

В этом примере все маршруты внутри группы будут иметь префикс `/admin`.

### Использование контроллеров

Вместо анонимных функций в качестве обработчиков маршрутов вы можете использовать контроллеры:

```php
use App\Http\Controllers\UserController;

Route::get('/users', [UserController::class, 'index']);
```

Этот код будет вызывать метод `index()` класса `UserController` при обращении к URI `/users`.

### Промежуточное ПО

Промежуточное ПО позволяет вам выполнять дополнительный код до или после выполнения обработчика маршрута. Например, вы можете использовать промежуточное ПО для проверки аутентификации пользователя:

```php
Route::middleware('auth')->group(function () {
    Route::get('/dashboard', function () {
        return 'Панель управления';
    });
});
```

В этом примере все маршруты внутри группы будут доступны только для аутентифицированных пользователей.

### Ресурсные маршруты

Ресурсные маршруты позволяют быстро определить набор маршрутов для работы с ресурсом, например, с пользователями:

```php
Route::resource('users', UserController::class);
```

Этот код создаст следующие маршруты:

| URI            | Метод   | Действие            |
| --------------- | -------- | -------------------- |
| `users`         | GET     | Отображение списка    |
| `users/create`  | GET     | Форма создания        |
| `users`         | POST    | Сохранение           |
| `users/{user}` | GET     | Отображение одного  |
| `users/{user}` | PUT     | Обновление           |
| `users/{user}` | DELETE | Удаление            |

### Вывод

В этой части руководства мы рассмотрели основные принципы определения маршрутов в Laravel. Вы научились создавать маршруты для различных HTTP-методов, передавать параметры, именовать маршруты, группировать их, использовать контроллеры и промежуточное ПО. Ресурсные маршруты помогут вам быстро создавать наборы маршрутов для работы с ресурсами. 
