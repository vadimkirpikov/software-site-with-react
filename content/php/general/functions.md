## Функции в PHP

Функции в PHP - это блоки кода, которые выполняют определенные задачи. Они позволяют организовать код, сделать его более читаемым и избежать повторений. Функции могут принимать аргументы (входные данные) и возвращать значения (результаты).

### Объявление функций

Для объявления функции используется ключевое слово `function`, за которым следует имя функции, круглые скобки `()` и фигурные скобки `{}`. Внутри фигурных скобок находится тело функции - код, который будет выполнен при ее вызове.

```php
function greet() {
  echo "Привет!";
}
```

В данном примере мы объявили функцию с именем `greet`. Эта функция не принимает никаких аргументов и просто выводит на экран строку "Привет!".

### Вызов функций

Для вызова функции необходимо указать ее имя и круглые скобки. 

```php
greet(); // Выведет "Привет!"
```

### Аргументы функций

Функции могут принимать аргументы - значения, которые передаются в функцию при ее вызове. Аргументы указываются в круглых скобках после имени функции, через запятую.

```php
function greetUser($name) {
  echo "Привет, $name!";
}

greetUser("Анна"); // Выведет "Привет, Анна!"
```

В этом примере функция `greetUser` принимает один аргумент - `$name`. При вызове функции мы передаем в нее имя "Анна", которое сохраняется в переменной `$name` внутри функции.

### Значения по умолчанию для аргументов

Можно задать значения по умолчанию для аргументов функции. Если при вызове функции аргумент не указан, будет использовано значение по умолчанию.

```php
function greetUser($name = "гость") {
  echo "Привет, $name!";
}

greetUser(); // Выведет "Привет, гость!"
greetUser("Иван"); // Выведет "Привет, Иван!"
```

### Возврат значений

Функции могут возвращать значения с помощью ключевого слова `return`. Возвращаемое значение можно сохранить в переменную или использовать в выражении.

```php
function sum($a, $b) {
  return $a + $b;
}

$result = sum(2, 3); // $result будет равен 5
echo $result; // Выведет 5
```

### Типы данных аргументов и возвращаемых значений

В PHP 8.3 можно указывать типы данных для аргументов и возвращаемых значений функций. Это позволяет повысить надежность кода и избежать ошибок, связанных с неверными типами данных.

```php
function sum(int $a, int $b): int {
  return $a + $b;
}

$result = sum(2, 3); // $result будет равен 5
```

В этом примере мы указали, что функция `sum` принимает два аргумента типа `int` и возвращает значение типа `int`. 

### Область видимости переменных

Переменные, объявленные внутри функции, имеют локальную область видимости. Это значит, что они доступны только внутри этой функции.

```php
function myFunction() {
  $localVariable = "Локальная переменная";
  echo $localVariable; // Выведет "Локальная переменная"
}

myFunction();
echo $localVariable; // Ошибка! Переменная $localVariable не определена
```

### Глобальные переменные

Для доступа к глобальным переменным внутри функции, нужно использовать ключевое слово `global`.

```php
$globalVariable = "Глобальная переменная";

function myFunction() {
  global $globalVariable;
  echo $globalVariable; // Выведет "Глобальная переменная"
}

myFunction();
```

### Статические переменные

Статические переменные сохраняют свое значение между вызовами функции.

```php
function counter() {
  static $count = 0;
  $count++;
  echo $count . " ";
}

counter(); // Выведет "1 "
counter(); // Выведет "2 "
counter(); // Выведет "3 "
```

### Рекурсивные функции

Рекурсивная функция - это функция, которая вызывает саму себя. Рекурсия может быть полезна для решения задач, которые можно разбить на более мелкие, подобные задачи.

```php
function factorial($n) {
  if ($n <= 1) {
    return 1;
  } else {
    return $n * factorial($n - 1);
  }
}

$result = factorial(5); // $result будет равен 120
echo $result; // Выведет 120
```

### Анонимные функции

Анонимные функции, также известные как лямбда-функции, - это функции, которые не имеют имени.

```php
$greet = function($name) {
  echo "Привет, $name!";
};

$greet("Мария"); // Выведет "Привет, Мария!"
```

### Замыкания

Замыкание - это анонимная функция, которая может получать доступ к переменным из внешней области видимости.

```php
$message = "Привет";

$greet = function($name) use ($message) {
  echo "$message, $name!";
};

$greet("Петр"); // Выведет "Привет, Петр!"
```

В этом примере замыкание `$greet` использует ключевое слово `use` для доступа к переменной `$message` из внешней области видимости.

### Встроенные функции

PHP предоставляет множество встроенных функций для работы со строками, массивами, датами, файлами и т.д. Список доступных функций можно найти в официальной документации PHP.

### Вывод

Функции - это важный инструмент для написания качественного и удобного в поддержке кода. Понимание принципов работы функций, их аргументов, возвращаемых значений и других возможностей поможет вам создавать более эффективные и элегантные скрипты на PHP.
