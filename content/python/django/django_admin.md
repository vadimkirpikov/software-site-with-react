## Админка Django

Административный интерфейс Django — это мощный встроенный инструмент, который позволяет легко управлять данными вашего приложения. Он генерируется автоматически на основе моделей данных и предоставляет удобный интерфейс для просмотра, добавления, изменения и удаления записей в базе данных.

### Настройка админки

Для начала работы с админкой, необходимо выполнить несколько шагов:

1. **Создайте суперпользователя**. Откройте терминал и выполните команду:

   ```bash
   python manage.py createsuperuser
   ```

   Следуйте инструкциям и укажите имя пользователя, адрес электронной почты и пароль.

2. **Зарегистрируйте модели в админке**. Откройте файл `admin.py` вашего приложения и добавьте следующий код:

   ```python
   from django.contrib import admin
   from .models import Product  # Импортируйте ваши модели

   admin.site.register(Product) # Зарегистрируйте модель в админке
   ```

3. **Запустите сервер разработки**:

   ```bash
   python manage.py runserver
   ```

4. Откройте браузер и перейдите по адресу `http://127.0.0.1:8000/admin/`. 

   Войдите в систему, используя имя пользователя и пароль суперпользователя, созданного ранее.

### Работа с админкой

После входа в админку вы увидите список зарегистрированных моделей. Нажмите на название модели, чтобы просмотреть список ее объектов. 

#### Просмотр объектов

Страница списка объектов отображает таблицу со всеми объектами выбранной модели. Вы можете:

* **Сортировать объекты** по любому столбцу, нажав на заголовок столбца.
* **Фильтровать объекты**, используя поля поиска над таблицей.
* **Выбирать объекты**, отмечая галочки рядом с ними, чтобы выполнить групповые действия, такие как удаление.
* **Просматривать и редактировать отдельные объекты**, нажимая на их названия.

#### Добавление объектов

Чтобы добавить новый объект:

1. Нажмите кнопку "Добавить" на странице списка объектов.
2. Заполните форму, указав значения для всех необходимых полей.
3. Нажмите кнопку "Сохранить".

#### Редактирование объектов

Чтобы изменить существующий объект:

1. Нажмите на название объекта на странице списка объектов.
2. Измените значения полей в форме.
3. Нажмите кнопку "Сохранить".

#### Удаление объектов

Чтобы удалить существующий объект:

1. Отметьте галочкой объект на странице списка объектов.
2. Выберите действие "Удалить выбранные объекты" в выпадающем меню действий.
3. Подтвердите удаление.

### Настройка внешнего вида админки

Django предоставляет несколько способов настройки внешнего вида админки:

#### Изменение заголовка сайта

Откройте файл `settings.py` вашего проекта и добавьте следующую строку:

```python
ADMIN_SITE_TITLE = "Название вашего сайта"
```

#### Добавление логотипа

1. Создайте папку `static/admin` в корне вашего проекта.
2. Поместите файл изображения логотипа в эту папку.
3. Добавьте следующий код в файл `settings.py`:

```python
STATIC_URL = '/static/'
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'static')
]
```

#### Изменение стилей CSS

1. Создайте файл `css/admin.css` в папке `static/admin`.
2. Добавьте свои стили CSS в этот файл.
3. Django автоматически подключит этот файл к админке.

### Настройка функциональности админки

Django позволяет гибко настраивать функциональность админки, добавляя новые возможности и изменяя существующие.

#### Изменение отображаемых полей

Вы можете изменить набор полей, отображаемых на странице списка объектов и в форме редактирования объекта. Для этого используйте атрибут `list_display` и `fields` класса `ModelAdmin`:

```python
class ProductAdmin(admin.ModelAdmin):
    list_display = ('name', 'price', 'is_available')
    fields = ('name', 'description', 'price', 'is_available')
```

#### Добавление фильтров

Вы можете добавить фильтры на страницу списка объектов, чтобы упростить поиск нужных объектов. Для этого используйте атрибут `list_filter` класса `ModelAdmin`:

```python
class ProductAdmin(admin.ModelAdmin):
    # ...
    list_filter = ('is_available', 'created_at')
```

#### Добавление полей поиска

Вы можете добавить поля поиска на страницу списка объектов, чтобы пользователи могли искать объекты по определенным полям. Для этого используйте атрибут `search_fields` класса `ModelAdmin`:

```python
class ProductAdmin(admin.ModelAdmin):
    # ...
    search_fields = ('name', 'description')
```

#### Создание пользовательских действий

Вы можете создавать пользовательские действия, которые будут доступны на странице списка объектов. Например, вы можете создать действие "Опубликовать", которое будет менять значение поля "is_published" на True для выбранных объектов.

```python
def make_published(modeladmin, request, queryset):
    queryset.update(is_published=True)
make_published.short_description = "Опубликовать"

class ProductAdmin(admin.ModelAdmin):
    # ...
    actions = [make_published]
```

### Заключение

Административный интерфейс Django является мощным инструментом для управления данными вашего приложения. Он прост в использовании, гибок в настройке и предоставляет множество возможностей для кастомизации. 
