## Совпадение шаблонов с помощью match-case

В Python 3.10 была представлена новая мощная конструкция – **match-case**, 
которая значительно расширяет возможности сопоставления с образцом. 
Эта конструкция позволяет сравнивать объект с несколькими шаблонами 
и выполнять соответствующий блок кода при совпадении. 

**Синтаксис match-case:**

```python
match variable:
    case pattern1:
        # код, выполняющийся при совпадении с pattern1
    case pattern2:
        # код, выполняющийся при совпадении с pattern2
    case _:
        # код, выполняющийся, если не совпал ни один шаблон 
```

Ключевое слово **match** начинает блок сопоставления. 
Переменная, указанная после **match**, сравнивается с каждым шаблоном **case**. 
При первом же совпадении выполняется код, 
связанный с этим **case**, и блок **match-case** завершает свою работу.

**Пример:**

```python
status_code = 404

match status_code:
    case 200:
        print("Запрос обработан успешно")
    case 400:
        print("Неверный запрос")
    case 404:
        print("Страница не найдена")
    case _:
        print("Неизвестный код ответа")
```

В данном примере переменная **status_code** сравнивается с кодами ответов. 
При значении **404** будет выведено сообщение "Страница не найдена".

### Шаблоны

**case** может содержать не просто значения, а более сложные шаблоны:

1. **Литералы:**
   ```python
   match day:
       case "Понедельник":
           print("Начало рабочей недели")
       case "Суббота" | "Воскресенье":
           print("Выходной!")
   ```
   Здесь мы используем оператор **|** для указания нескольких вариантов в одном **case**.

2. **Сопоставление с образцом:**
    ```python
    data = {"name": "Alice", "age": 30}

    match data:
        case {"name": "Bob", "age": age}:
            print(f"Имя: Bob, возраст: {age}")
        case {"name": name, "age": age}:
            print(f"Имя: {name}, возраст: {age}")
    ```
    В этом примере мы проверяем наличие ключей **name** и **age** в словаре **data** и извлекаем их значения.

3. **Позиционные аргументы:**
   ```python
   point = (3, 4)

   match point:
       case (0, 0):
           print("Начало координат")
       case (x, 0):
           print(f"Точка на оси X: {x}")
       case (0, y):
           print(f"Точка на оси Y: {y}")
       case (x, y):
           print(f"Координаты точки: ({x}, {y})")
   ```
   Здесь мы используем позиционные аргументы для проверки координат точки.

4. **Условие в шаблоне:**
   ```python
   number = 15

   match number:
       case n if n % 2 == 0:
           print("Четное число")
       case n if n % 2 != 0:
           print("Нечетное число")
   ```
   В данном примере мы добавляем условие **if** 
   для проверки четности числа.

### Применение match-case

Конструкция **match-case** делает код более читаемым и лаконичным, 
особенно при обработке большого количества условий. 
Она прекрасно подходит для:

* Разбора данных различной структуры
* Обработки событий и состояний
* Реализации конечных автоматов
* Сопоставления с образцом в алгоритмах

**Match-case** – это мощный инструмент, 
который расширяет возможности языка Python 
и позволяет писать более выразительный и эффективный код. 
