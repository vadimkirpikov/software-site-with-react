## Создание и управление задачами

В современном программировании часто возникает необходимость разбить большую задачу на более мелкие и управлять их выполнением. Python предлагает различные инструменты для этого, начиная от простых функций и заканчивая продвинутыми библиотеками для асинхронного программирования.  

### Функции как основа

Функции в Python – это блоки кода, которые можно вызывать и повторно использовать. Они  служат естественным способом разбиения задачи на логические части. 

```python
def greet(name):
  """
  Эта функция приветствует пользователя,
  используя переданное имя.
  """
  print(f"Привет, {name}!")

greet("Анна")  # Вызов функции с аргументом "Анна"
```

В этом примере функция `greet` принимает имя и выводит приветствие. Вызывая функцию с разными именами, мы можем использовать один и тот же код для решения похожих задач.

### Модули для структуризации проекта

По мере роста проекта, количество функций увеличивается. Для удобства организации кода используются модули. Модуль – это файл, содержащий определения функций, классов и переменных. 

Создайте файл `greetings.py`:

```python
def greet(name):
  """
  Эта функция приветствует пользователя.
  """
  print(f"Привет, {name}!")

def farewell(name):
  """
  Эта функция прощается с пользователем.
  """
  print(f"До свидания, {name}!")
```

Теперь создайте другой файл и импортируйте созданный модуль:

```python
import greetings

greetings.greet("Иван")  
greetings.farewell("Иван") 
```

Здесь мы импортировали функции из модуля `greetings` и использовали их в другом файле. 

### Пакеты для сложных проектов

Для еще более крупных проектов, где используется множество модулей, Python предлагает использовать пакеты. Пакет – это каталог, содержащий несколько модулей и специальный файл `__init__.py`, который указывает Python, что это пакет.

### Обработка исключений

При выполнении программы могут возникать ошибки. Чтобы предотвратить аварийное завершение программы, Python предоставляет механизм обработки исключений.

```python
def divide(x, y):
  """
  Эта функция делит два числа.
  """
  try:
    result = x / y
  except ZeroDivisionError:
    print("Деление на ноль недопустимо!")
  else:
    print("Результат:", result)
  finally:
    print("Операция деления завершена.")

divide(10, 2)  
divide(10, 0)  
```

В этом примере функция `divide` пытается выполнить деление. Блок `try` содержит код, который может вызвать исключение. Блок `except` перехватывает определенный тип исключения (`ZeroDivisionError` в нашем случае). Блок `else` выполняется, если исключение не произошло. Блок `finally` выполняется всегда, независимо от того, было ли исключение или нет.

### Управление задачами с помощью `concurrent.futures`

Для одновременного выполнения  нескольких задач  можно использовать модуль `concurrent.futures`. Он предоставляет высокоуровневый интерфейс для запуска задач в отдельных потоках или процессах. 

```python
from concurrent.futures import ThreadPoolExecutor
import time

def task(name):
  """
  Эта функция имитирует выполнение задачи.
  """
  print(f"Задача {name} началась")
  time.sleep(2)
  print(f"Задача {name} завершена")

with ThreadPoolExecutor(max_workers=2) as executor:
  executor.submit(task, "A")
  executor.submit(task, "B")

print("Все задачи добавлены в очередь")
```

В этом примере мы создаем пул потоков с помощью `ThreadPoolExecutor` и добавляем задачи `task` с именами "A" и "B" в очередь на выполнение. Функция `executor.submit()` возвращает объект `Future`, который представляет собой результат выполнения задачи.

### Заключение

В этой статье мы рассмотрели основные инструменты Python для создания и управления задачами: функции, модули, пакеты, обработка исключений и модуль `concurrent.futures`. Освоение этих инструментов позволит вам писать более структурированный, читаемый и эффективный код. 
