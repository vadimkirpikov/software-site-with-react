## Функции в Python

Функции - это блоки кода, которые выполняют определенную задачу. Они являются основой модульного программирования, позволяя разбить программу на более мелкие, управляемые части. В Python функции определяются с помощью ключевого слова `def`, за которым следует имя функции и скобки, содержащие список параметров (если таковые имеются).

### Определение функции

```python
def greet_user():
    """Выводит приветственное сообщение."""
    print("Привет, пользователь!")

greet_user() # Вызов функции
```

В этом примере мы определили функцию `greet_user()`, которая выводит на экран сообщение "Привет, пользователь!". Строка с тройными кавычками является строкой документации (docstring) и используется для документирования функций. Вызов функции осуществляется путем указания ее имени со скобками.

### Параметры и аргументы

Функции могут принимать параметры, которые действуют как переменные внутри функции. Значения, передаваемые в функцию при ее вызове, называются аргументами.

```python
def greet_user(name):
    """Выводит приветственное сообщение с именем пользователя."""
    print(f"Привет, {name}!")

greet_user("Анна") # Вызов функции с аргументом "Анна"
```

В этом примере функция `greet_user(name)` принимает один параметр `name`. При вызове функции с аргументом "Анна", значение "Анна" передается в функцию и присваивается параметру `name`.

### Возврат значений

Функции могут возвращать значения с помощью ключевого слова `return`.

```python
def square(number):
    """Возвращает квадрат числа."""
    return number * number

result = square(5) # Вызов функции и сохранение результата в переменную
print(result) # Вывод: 25
```

В этом примере функция `square(number)` принимает один параметр `number` и возвращает его квадрат. Значение, возвращаемое функцией, может быть сохранено в переменной или использовано непосредственно в выражении.

### Значения по умолчанию

Функции могут иметь параметры со значениями по умолчанию. Если при вызове функции аргумент для этого параметра не указан, используется значение по умолчанию.

```python
def greet(name="Гость"):
    """Выводит приветственное сообщение с именем пользователя или "Гость"."""
    print(f"Привет, {name}!")

greet()       # Вывод: Привет, Гость!
greet("Иван") # Вывод: Привет, Иван!
```

В этом примере функция `greet(name)` имеет параметр `name` со значением по умолчанию "Гость". Если функция вызывается без аргументов, используется значение по умолчанию.

### Область видимости переменных

Переменные, определенные внутри функции, имеют локальную область видимости. Это означает, что они доступны только внутри функции. Переменные, определенные вне функций, имеют глобальную область видимости и доступны из любой части программы.

```python
global_var = "Я глобальная переменная"

def my_function():
    local_var = "Я локальная переменная"
    print(global_var) # Доступ к глобальной переменной
    print(local_var) # Доступ к локальной переменной

my_function()
print(global_var) # Доступ к глобальной переменной
# print(local_var) # Ошибка! Локальная переменная недоступна

```

### Передача аргументов по позиции и по имени

Аргументы в функцию могут передаваться по позиции или по имени. При передаче по позиции, порядок аргументов должен соответствовать порядку параметров в определении функции. При передаче по имени, порядок не важен, но нужно указывать имена параметров.

```python
def describe_pet(animal_type, pet_name):
    """Выводит информацию о домашнем животном."""
    print(f"\nУ меня есть {animal_type}.")
    print(f"Моего {animal_type} зовут {pet_name.title()}.")

# Передача аргументов по позиции
describe_pet('хомяк', 'бублик')

# Передача аргументов по имени
describe_pet(pet_name='шарфик', animal_type='кот')
```

### Произвольное количество аргументов

Функции могут принимать произвольное количество аргументов с помощью специального синтаксиса `*args` (для позиционных аргументов) и `**kwargs` (для именованных аргументов).

```python
def make_pizza(*toppings):
    """Выводит список начинок для пиццы."""
    print("\nПицца с начинкой:")
    for topping in toppings:
        print(f"- {topping}")

make_pizza('пепперони')
make_pizza('грибы', 'сыр', 'помидоры')
```

### Рекурсия

Функция может вызывать саму себя. Это называется рекурсией. Рекурсия полезна для решения задач, которые могут быть разбиты на более мелкие, подобные подзадачи.

```python
def factorial(n):
    """Вычисляет факториал числа."""
    if n == 0:
        return 1
    else:
        return n * factorial(n - 1)

print(factorial(5)) # Вывод: 120
```

В этом примере функция `factorial(n)` вычисляет факториал числа `n`. Она проверяет, равен ли `n` нулю. Если да, то возвращается 1. В противном случае функция вызывает саму себя с аргументом `n-1` и умножает результат на `n`.

### Аннотации типов

Python поддерживает аннотации типов, которые позволяют указывать типы данных для параметров и возвращаемого значения функции.

```python
def greet(name: str) -> str:
    """Возвращает приветствие."""
    return f"Привет, {name}!"

print(greet("Анна"))
```

В этом примере аннотация `name: str` указывает, что параметр `name` должен быть строкой. Аннотация `-> str` указывает, что функция возвращает строку. Аннотации типов не влияют на выполнение кода, но могут использоваться для документирования кода и статического анализа.

Это лишь базовый обзор функций в Python. Существует множество других возможностей, которые делают функции мощным инструментом для разработки программного обеспечения.
