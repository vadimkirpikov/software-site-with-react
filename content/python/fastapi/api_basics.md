## Основы создания RESTful API с FastAPI

FastAPI — это современный, высокопроизводительный веб-фреймворк для создания API на Python. Одной из его ключевых особенностей является встроенная поддержка создания RESTful API.

### Что такое RESTful API?

REST (Representational State Transfer) — это архитектурный стиль, определяющий набор правил для создания веб-сервисов. API, созданные по принципам REST, называются RESTful API.

Ключевые принципы REST:

* **Клиент-серверная архитектура:**  Клиент и сервер независимы друг от друга.
* **Отсутствие состояния:**  Каждый запрос клиента на сервер самодостаточен и не зависит от предыдущих запросов.
* **Кэширование:**  Сервер может кэшировать ответы, чтобы улучшить производительность.
* **Единообразие интерфейса:**  Взаимодействие с API происходит с использованием стандартных HTTP-методов (GET, POST, PUT, DELETE) и форматов данных (JSON, XML).
* **Многоуровневая система:**  Клиент не обязательно должен знать, взаимодействует ли он напрямую с сервером или через посредника.
* **Код по требованию (опционально):**  Сервер может расширять функциональность клиента, отправляя ему исполняемый код.

### HTTP-методы

RESTful API используют HTTP-методы для указания типа операции, которую необходимо выполнить:

| Метод  | Описание                              |
| ------- | ------------------------------------- |
| GET     | Получение ресурса                    |
| POST    | Создание ресурса                    |
| PUT     | Обновление ресурса                    |
| DELETE  | Удаление ресурса                    |

### Создание простого API с FastAPI

#### Установка FastAPI и Uvicorn

```bash
pip install fastapi uvicorn[standard]
```

#### Пример кода:

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def root():
    return {"message": "Привет, это корневой маршрут!"}

@app.get("/items/{item_id}")
async def read_item(item_id: int):
    return {"item_id": item_id}

@app.post("/items/")
async def create_item(item_id: int, item_name: str):
    return {"item_id": item_id, "item_name": item_name}
```

**Описание кода:**

1. `from fastapi import FastAPI`: импортируем класс `FastAPI`.
2. `app = FastAPI()`: создаем экземпляр приложения FastAPI.
3. `@app.get("/")`: декоратор, указывающий, что функция `root()` обрабатывает GET-запросы к корневому маршруту (`/`).
4. `async def root():`: асинхронная функция, возвращающая словарь с приветственным сообщением.
5. `@app.get("/items/{item_id}")`: декоратор для обработки GET-запросов к маршруту `/items/{item_id}`, где `item_id` — переменная пути.
6. `async def read_item(item_id: int):`: функция, принимающая `item_id` в качестве аргумента и возвращающая словарь с информацией об элементе.
7. `@app.post("/items/")`: декоратор для обработки POST-запросов к маршруту `/items/`.
8. `async def create_item(item_id: int, item_name: str):`: функция, принимающая `item_id` и `item_name` в качестве аргументов и возвращающая словарь с информацией о созданном элементе.

#### Запуск приложения:

```bash
uvicorn main:app --reload
```

**Описание команды:**

* `main`: имя файла с кодом приложения (в данном случае `main.py`).
* `app`: имя экземпляра приложения FastAPI.
* `--reload`: флаг, указывающий Uvicorn перезапускать сервер при изменении кода.

После запуска сервера вы можете получить доступ к API по адресу `http://127.0.0.1:8000/`.

Это лишь базовый пример создания RESTful API с помощью FastAPI. Фреймворк предлагает множество других возможностей, таких как валидация данных, авторизация, документация API и многое другое. 
