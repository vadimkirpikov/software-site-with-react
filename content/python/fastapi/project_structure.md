## Обзор структуры проекта FastAPI

При разработке веб-приложений на FastAPI важно правильно организовать структуру проекта. Это не только улучшает читаемость кода, но и упрощает его поддержку, масштабирование и тестирование. 

В этом разделе мы рассмотрим типовую структуру проекта FastAPI и основные компоненты, которые в нем встречаются.

### Типовая структура

Хотя строгих правил не существует, большинство проектов FastAPI придерживаются следующей структуры:

```
project_name/
├── app/
│   ├── __init__.py
│   ├── main.py
│   ├── api/
│   │   ├── __init__.py
│   │   ├── routers.py
│   │   ├── models.py
│   ├── core/
│   │   ├── __init__.py
│   │   ├── config.py
│   │   ├── dependencies.py
│   ├── utils/
│   │   ├── __init__.py
│   │   ├── helpers.py
├── tests/
│   ├── __init__.py
│   ├── test_main.py
├── .env
├── requirements.txt
├── pyproject.toml
```

Давайте разберем назначение каждой папки и файла:

| Компонент | Описание |
|---|---|
| `project_name/` | Корневая папка проекта. |
| `app/` | Папка, содержащая основной код приложения FastAPI. |
| `__init__.py` |  Пустой файл, указывающий, что папка является пакетом Python. |
| `main.py` | Точка входа в приложение, где создается экземпляр `FastAPI` и включаются роутеры. |
| `api/` | Папка для организации логики API, включая роутеры, модели и обработчики. |
| `routers.py` |  Файл для определения роутеров, отвечающих за обработку определенных путей API. |
| `models.py` |  Файл для определения Pydantic моделей, используемых для валидации данных. |
| `core/` | Папка для хранения конфигурации, зависимостей и других важных компонентов приложения. |
| `config.py` |  Файл для настройки приложения, например, подключения к базе данных или секретных ключей. |
| `dependencies.py` |  Файл для определения зависимостей, которые могут использоваться в роутерах. |
| `utils/` |  Папка для хранения вспомогательных функций и утилит. |
| `helpers.py` |  Файл с примерами вспомогательных функций. |
| `tests/` |  Папка для хранения тестов приложения. |
| `.env` | Файл с переменными окружения, используемыми для настройки приложения. |
| `requirements.txt` | Файл со списком зависимостей проекта. |
| `pyproject.toml` | Файл с настройками проекта, используемый такими инструментами как Poetry. |


### Пример реализации

Рассмотрим пример простого приложения FastAPI, реализующего API для работы с заметками:

**`main.py`:**

```python
from fastapi import FastAPI

from app.api.routers import router

app = FastAPI()

app.include_router(router)

@app.get("/")
async def root():
    return {"message": "Welcome to the notes API!"}
```

**`app/api/routers.py`:**

```python
from fastapi import APIRouter

router = APIRouter(prefix="/notes", tags=["notes"])

@router.get("/")
async def get_notes():
    return {"message": "Getting all notes"}
```

В этом примере:

- `main.py` создает экземпляр `FastAPI` и включает роутер `router` из модуля `app.api.routers`.
- `routers.py` определяет роутер с префиксом `/notes`, который обрабатывает запросы к пути `/notes/`.

###  Заключение

Это базовая структура проекта FastAPI. В зависимости от сложности вашего приложения вам может понадобиться добавить новые папки и файлы. Главное -  поддерживать код чистым, организованным и простым в поддержке. 

В следующих разделах мы более подробно рассмотрим каждый компонент типового проекта FastAPI и научимся создавать полноценные приложения.
