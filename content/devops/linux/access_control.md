## Работа с правами и политиками доступа

В Linux безопасность системы и данных строится на правах доступа. Каждый файл и директория принадлежит определенному пользователю и группе, а также имеет набор разрешений, определяющих, кто и как может с ними взаимодействовать. Понимание этой системы — ключ к безопасной и эффективной работе.

### Основные понятия

* **Пользователь (User):** Учетная запись, с помощью которой осуществляется работа в системе. У каждого пользователя есть свой уникальный идентификатор (UID).
* **Группа (Group):** Объединение пользователей для удобства назначения прав доступа. У каждой группы есть свой уникальный идентификатор (GID).
* **Права доступа (Permissions):** Набор разрешений, определяющих, какие действия могут выполняться с файлом или директорией: чтение, запись, выполнение.

### Типы прав доступа

Существует три основных типа прав доступа:

| Право | Обозначение | Описание |
|---|---|---|
| Чтение (Read) | r | Позволяет просматривать содержимое файла или список файлов в директории. |
| Запись (Write) | w | Позволяет изменять содержимое файла или создавать, удалять, переименовывать файлы в директории. |
| Выполнение (Execute) | x | Позволяет запускать файл на выполнение (для исполняемых файлов) или получать доступ к содержимому директории. |

### Классы пользователей

Права доступа разделены на три класса:

* **Владелец (Owner):** Пользователь, которому принадлежит файл или директория.
* **Группа (Group):** Группа, к которой принадлежит файл или директория.
* **Другие (Others):** Все остальные пользователи системы, не являющиеся владельцем или членом группы.

### Отображение прав доступа

Права доступа к файлам и директориям отображаются в виде строки из 10 символов:

```
-rwxr-xr-- 1 user group 1024 Jan 1 00:00 file.txt
```

* **Первый символ:**  указывает на тип файла:
    * `-` - обычный файл
    * `d` - директория
    * `l` - символическая ссылка
* **Символы 2-4:**  права доступа для владельца.
* **Символы 5-7:**  права доступа для группы.
* **Символы 8-10:** права доступа для других пользователей.

### Изменение прав доступа

Для изменения прав доступа используется команда `chmod`:

```
chmod [опции] [права] [файл/директория]
```

**Примеры:**

* **Назначить владельцу права на чтение, запись и выполнение для файла `script.sh`:**
    ```
    chmod u+rwx script.sh
    ```
* **Удалить права на запись для группы и других пользователей для директории `data`:**
    ```
    chmod go-w data
    ```
* **Назначить права на чтение и выполнение для всех пользователей для файла `report.pdf`:**
    ```
    chmod a+rx report.pdf
    ```

### Изменение владельца и группы

Для изменения владельца и группы файла или директории используются команды `chown` и `chgrp` соответственно:

```
chown [опции] [пользователь]:[группа] [файл/директория]
chgrp [опции] [группа] [файл/директория]
```

**Примеры:**

* **Изменить владельца файла `document.txt` на пользователя `john`:**
    ```
    chown john document.txt
    ```
* **Изменить группу файла `image.jpg` на группу `designers`:**
    ```
    chgrp designers image.jpg
    ```
* **Изменить владельца и группу директории `project` на пользователя `alice` и группу `developers`:**
    ```
    chown alice:developers project
    ```

### Дополнительные механизмы безопасности

* **Sticky bit:** Специальный бит, который можно установить для директории. Он разрешает удалять и переименовывать файлы в директории только владельцу файла, владельцу директории или суперпользователю.
* **SUID/SGID:** Специальные биты, которые можно установить для исполняемого файла. Они позволяют запускать файл с правами владельца файла или группы файла, а не с правами пользователя, который запускает файл.

### Заключение

Понимание системы прав доступа в Linux — важный шаг к обеспечению безопасности ваших данных. Используйте полученные знания, чтобы настраивать права доступа к файлам и директориям в соответствии с вашими потребностями. 
