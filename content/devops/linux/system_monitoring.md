## Инструменты мониторинга системы

Стабильность и производительность системы -  ключевые аспекты ее успешной работы. Для контроля этих параметров и своевременного выявления проблем используются инструменты мониторинга.  Они позволяют отслеживать различные показатели системы в режиме реального времени и анализировать исторические данные.

### Базовые утилиты

Linux предоставляет набор базовых утилит для мониторинга, доступных "из коробки". Рассмотрим некоторые из них:

**1. top:**  Отображает динамический список процессов, отсортированный по потреблению ресурсов. 

**Запуск:** 
```
top
```
**Основные показатели:**
* **PID** - Идентификатор процесса
* **USER** -  Владелец процесса
* **PR** - Приоритет 
* **VIRT** - Виртуальная память
* **RES** - Физическая память
* **%CPU** - Загрузка процессора
* **%MEM** -  Использование памяти
* **TIME+** - Время работы
* **COMMAND** -  Название команды 

**2. htop:** Улучшенная версия `top` с удобным интерактивным интерфейсом.

**Установка (Debian/Ubuntu):**
```
sudo apt install htop
```
**Запуск:**
```
htop
```
**Преимущества:**
* Цветовое выделение процессов
* Удобная навигация по списку
* Подробная информация о системе 

**3. free:** Отображает информацию об использовании оперативной памяти и swap.

**Запуск:**
```
free -h
```
**Опция `-h`  отображает значения в удобном для чтения формате.**

**4. df:**  Показывает статистику использования дискового пространства. 

**Запуск:**
```
df -h
```
**Опция `-h` отображает значения в удобном для чтения формате (гигабайты, мегабайты).**

**5. iostat:**  Предоставляет информацию о загрузке процессора и использовании устройств ввода/вывода.

**Установка (Debian/Ubuntu):**
```
sudo apt install sysstat
```
**Запуск:**
```
iostat -x 1
```
**Опция `-x`  отображает расширенную статистику, а `1` - интервал обновления данных в секундах.** 

**6. vmstat:**  Отображает информацию о процессах, памяти, подкачке страниц, блочных устройствах, прерываниях и активности процессора. 

**Запуск:**
```
vmstat 1
```
**Цифра `1`  - интервал обновления данных в секундах.**

###  Мониторинг производительности сети

**1. iftop:**  Отображает список сетевых соединений и  объемы передаваемых данных в реальном времени.

**Установка (Debian/Ubuntu):**
```
sudo apt install iftop
```
**Запуск:**
```
sudo iftop 
```
 **Требуются права суперпользователя.**

**2. netstat:** Отображает информацию о сетевых соединениях, маршрутах, статистику интерфейсов.

**Запуск:** 
```
netstat -tuln
```
**Опции:**
* `-t` - TCP соединения
* `-u` - UDP соединения
* `-l` - Слушающие порты
* `-n` - Отображать числовые адреса 

###  Мониторинг логов

Системные журналы (логи) - ценный источник информации о работе системы. Для их просмотра и анализа используются следующие инструменты:

**1. journalctl:**  Утилита для просмотра и анализа логов systemd.

**Запуск:**
```
journalctl -f
```
**Опция `-f`  позволяет отслеживать журнал в реальном времени.**

**Примеры использования:**
* Показать логи за последние 10 минут: 
```
journalctl --since "10 minutes ago"
```
* Показать логи определенной службы (например, nginx):
```
journalctl -u nginx
```
**2. tail:**  Утилита для просмотра последних строк файла. Часто используется для отслеживания логов в реальном времени.

**Запуск:**
```
tail -f /var/log/syslog
```
**Опция `-f`  позволяет отслеживать файл в реальном времени. `/var/log/syslog` - путь к файлу системного журнала.**


###  Дополнительные инструменты

**1. glances:**  Мониторинг ресурсов системы в терминале с использованием curses.

**Установка (Python pip):**
```
pip install glances
```

**Запуск:**
```
glances
```
**2. nmon:**  Мониторинг производительности системы в режиме реального времени с возможностью сохранения данных в файлы.

**Установка (Debian/Ubuntu):**
```
sudo apt install nmon
```
**Запуск:**
```
nmon
```

### Заключение

В Linux существует множество инструментов для мониторинга системы.  Выбор инструментов зависит от конкретных потребностей и задач.  Регулярный мониторинг поможет вам контролировать состояние системы, выявлять узкие места и обеспечивать ее стабильную работу. 
