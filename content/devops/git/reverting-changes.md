## Откат изменений в Git

Работая с Git, вы можете столкнуться с необходимостью отменить сделанные изменения. Git предоставляет гибкие инструменты для отката изменений на разных этапах работы. 

### Откат изменений в последнем несохраненном коммите

Если вы еще не зафиксировали свои изменения в коммите, вы можете отменить их, вернув файл или всю рабочую директорию к последнему сохраненному состоянию.

**Откат изменений в файле:**

Для отката изменений в отдельном файле используйте команду `git checkout`:

```bash
git checkout -- <имя_файла>
```

**Пример:**

```bash
git checkout -- index.html
```

Эта команда отменит все изменения, сделанные в файле `index.html` с момента последнего коммита.

**Откат всех незафиксированных изменений:**

Для отката всех незафиксированных изменений в рабочей директории используйте команду:

```bash
git checkout .
```

**Важно:** Эта команда отменит все несохраненные изменения. Убедитесь, что вы хотите это сделать, прежде чем выполнять команду. 

### Откат изменений в зафиксированном коммите

Если вы уже зафиксировали изменения в коммите, но хотите отменить их, у вас есть два варианта:

1. **`git revert`**: Создает новый коммит, который отменяет изменения, внесенные предыдущим коммитом. Этот способ предпочтительнее, если вы уже отправили свои изменения в удаленный репозиторий, так как он не меняет историю коммитов.
2. **`git reset`**: Перемещает указатель текущей ветки (HEAD) на другой коммит, эффективно отменяя все коммиты после выбранного. Этот способ может быть опасен, если вы уже отправили свои изменения в удаленный репозиторий, так как может привести к конфликтам слияния.

#### **Откат коммита с помощью `git revert`**

1. **Найдите хэш коммита, который хотите отменить.** Вы можете использовать команду `git log` для просмотра истории коммитов.
2. **Выполните команду `git revert`**:

```bash
git revert <хэш_коммита>
```

**Пример:**

```bash
git revert 4e3a5f2
```

Эта команда создаст новый коммит, который отменяет изменения, внесенные коммитом с хэшем `4e3a5f2`.

#### **Откат коммита с помощью `git reset`**

**Важно:** Используйте `git reset` с осторожностью, особенно если вы уже отправили свои изменения в удаленный репозиторий.

1. **Найдите хэш коммита, на который хотите откатиться.** Вы можете использовать команду `git log` для просмотра истории коммитов.
2. **Выполните команду `git reset` с одним из следующих параметров:**

   * `--soft`: Перемещает HEAD на указанный коммит, сохраняя изменения в индексе и рабочей директории.
   * `--mixed` (по умолчанию): Перемещает HEAD на указанный коммит, сохраняя изменения в рабочей директории.
   * `--hard`: Перемещает HEAD на указанный коммит, удаляя все изменения в индексе и рабочей директории.

**Пример:**

```bash
git reset --hard 4e3a5f2
```

Эта команда откатит все изменения, внесенные после коммита с хэшем `4e3a5f2`, и удалит все несохраненные изменения.

### Восстановление удаленных коммитов

Если вы случайно удалили коммит, вы все еще можете его восстановить, используя команду `git reflog`. `git reflog` хранит историю всех изменений, внесенных в HEAD, включая удаленные коммиты.

1. **Найдите хэш удаленного коммита в `git reflog`**:

```bash
git reflog
```

2. **Создайте новую ветку, указывающую на удаленный коммит**:

```bash
git branch <имя_новой_ветки> <хэш_коммита>
```

**Пример:**

```bash
git branch recovered-feature 4e3a5f2
```

Эта команда создаст новую ветку `recovered-feature`, указывающую на коммит с хэшем `4e3a5f2`. Теперь вы можете переключиться на эту ветку и продолжить работу с удаленным коммитом.

**Важно:** `git reflog` хранит информацию об удаленных коммитах только в течение ограниченного времени. 

Откат изменений в Git может быть мощным инструментом, но важно понимать последствия каждого действия. Обязательно создавайте резервные копии своей работы перед выполнением каких-либо операций по откату, особенно если вы уже отправили свои изменения в удаленный репозиторий. 
