## Работа с файлами в Git

Git отслеживает изменения в файлах вашего проекта, позволяя вам:

* Возвращаться к предыдущим версиям файлов
* Сравнивать разные версии файлов
* Отслеживать, кто и когда внес изменения

В этом разделе мы рассмотрим основные команды Git для работы с файлами.

### Просмотр состояния файлов

Перед тем как начать работу с файлами, полезно узнать их текущее состояние в Git. Для этого используется команда `git status`:

```bash
git status
```

Эта команда выведет информацию о:

* Текущей ветке
* Неотслеживаемых файлах (файлах, которые Git еще не отслеживает)
* Измененных файлах (файлах, которые были изменены, но не добавлены в индекс)
* Добавленных файлах (файлах, изменения которых были добавлены в индекс)

Пример вывода команды `git status`:

```
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   README.md

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	new_file.txt
```

В данном примере:

* Мы находимся в ветке `master`
* Файл `README.md` был изменен, но изменения не добавлены в индекс
* Файл `new_file.txt` не отслеживается Git

### Добавление файлов в индекс

Чтобы Git начал отслеживать новый файл или принял изменения в существующем файле, нужно добавить их в индекс (staging area). 

**Добавление одного файла:**

```bash
git add <имя_файла>
```

**Добавление всех файлов в текущей директории:**

```bash
git add .
```

**Пример:**

```bash
git add README.md
git add new_file.txt
```

Эти команды добавят файл `README.md` (с учетом внесенных изменений) и `new_file.txt` в индекс.

### Просмотр различий

**Просмотр различий между рабочей директорией и индексом:**

```bash
git diff
```

**Просмотр различий между индексом и последним коммитом:**

```bash
git diff --staged 
```

**Просмотр различий между двумя коммитами:**

```bash
git diff <коммит_1> <коммит_2>
```

**Просмотр истории изменений файла:**

```bash
git log -p <имя_файла>
```

### Фиксация изменений

После того как вы добавили все нужные файлы в индекс, вы можете зафиксировать изменения, создав новый коммит. 

```bash
git commit -m "Описание изменений"
```

**Пример:**

```bash
git commit -m "Исправил опечатку в README.md"
```

Эта команда создаст новый коммит с описанием "Исправил опечатку в README.md". 

### Игнорирование файлов

Иногда нужно исключить файлы или директории из отслеживания Git. Например, это могут быть:

* Локальные конфигурационные файлы
* Сгенерированные файлы
* Логи

Для этого создайте файл `.gitignore` в корневой директории проекта и укажите в нем шаблоны файлов и директорий, которые нужно игнорировать.

**Пример файла `.gitignore`:**

```
# Игнорировать все файлы с расширением .log
*.log

# Игнорировать директорию /build
/build/
```

### Перемещение и переименование файлов

Git отслеживает не только содержимое файлов, но и их имена и расположение. 

**Переименование файла:**

```bash
git mv <старое_имя_файла> <новое_имя_файла>
```

**Перемещение файла:**

```bash
git mv <имя_файла> <новая_директория>
```

**Пример:**

```bash
git mv index.html about/index.html
```

Эта команда переместит файл `index.html` в директорию `about`.

### Удаление файлов

**Удаление файла из рабочей директории и индекса:**

```bash
git rm <имя_файла>
```

**Удаление файла только из индекса (оставить в рабочей директории):**

```bash
git rm --cached <имя_файла>
```

**Пример:**

```bash
git rm styles.css
```

Эта команда удалит файл `styles.css` из рабочей директории и индекса. Последующий коммит удалит этот файл из репозитория.

**Важно:** Будьте внимательны при использовании команды `git rm`, так как она удаляет файлы без возможности восстановления. 

### Восстановление файлов

**Восстановление файла из последнего коммита:**

```bash
git checkout -- <имя_файла>
```

**Восстановление удаленного файла:**

```bash
git restore <имя_файла>
```

**Пример:**

```bash
git checkout -- README.md
```

Эта команда отменит все изменения в файле `README.md`, вернув его к состоянию последнего коммита.

---

В этой статье мы рассмотрели основные команды Git для работы с файлами. 
