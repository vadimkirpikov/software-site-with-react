## Введение в Kubernetes и его отличия от Docker

Docker значительно упростил процесс разработки и развертывания приложений, предоставляя механизм упаковки и запуска приложений в изолированных контейнерах. Однако, когда речь заходит о развертывании и управлении большим количеством контейнеров, особенно в распределенной среде, возможности Docker оказываются ограничены. 

Здесь на сцену выходит Kubernetes. 

**Kubernetes** — это платформа с открытым исходным кодом, предназначенная для автоматизации развертывания, масштабирования и управления контейнеризированными приложениями. 

### Отличия Docker и Kubernetes

| Характеристика | Docker                                  | Kubernetes                                  |
|----------------|------------------------------------------|----------------------------------------------|
| Масштабирование | Ограничено одним хостом (узлом)          | Горизонтальное масштабирование на кластере узлов |
| Балансировка  | Простая балансировка нагрузки            | Расширенные возможности балансировки нагрузки   |
| Обновления     | Ручное управление обновлениями            | Автоматизированные обновления и откаты           |
| Самовосстановление | Нет                                       | Автоматическое восстановление упавших контейнеров |
| Оркестрация   | Ограниченная оркестрация контейнеров  | Мощные возможности оркестрации и управления      |

### Kubernetes: Основные понятия

* **Кластер:** Группа узлов (физических или виртуальных машин), на которых работают ваши приложения.
* **Узел:** Машина (физическая или виртуальная), являющаяся частью кластера Kubernetes.
* **Pod:** Минимальная единица развертывания в Kubernetes. Pod может содержать один или несколько контейнеров.
* **Сервис:** Абстракция, обеспечивающая доступ к Pod'ам по сети.
* **Deployment:** Объект, управляющий развертыванием и обновлением Pod'ов.

### Пример: Развертывание приложения в Kubernetes

Рассмотрим пример развертывания простого веб-приложения в Kubernetes. Предположим, у нас есть Docker-образ `my-web-app`.

1. **Создание файла конфигурации Deployment (deployment.yaml):**

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-web-app
spec:
  replicas: 3 # Количество реплик (Pod'ов)
  selector:
    matchLabels:
      app: my-web-app
  template:
    metadata:
      labels:
        app: my-web-app
    spec:
      containers:
      - name: my-web-app
        image: my-web-app:latest
        ports:
        - containerPort: 80
```

   В данном файле мы указываем Kubernetes создать Deployment с именем `my-web-app`, запустить 3 реплики приложения `my-web-app` и открыть порт `80`.

2. **Создание файла конфигурации Service (service.yaml):**

```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-web-app-service
spec:
  selector:
    app: my-web-app
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
  type: LoadBalancer
```

   Этот файл конфигурации создает Service с именем `my-web-app-service`, который будет балансировать трафик на все Pod'ы с меткой `app: my-web-app`.

3. **Развертывание приложения:**

```bash
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
```

   Команды `kubectl apply` применяют конфигурации Deployment и Service, создавая необходимые объекты в кластере Kubernetes.

### Заключение

Kubernetes – мощный инструмент для оркестрации контейнеров, который предоставляет возможности, выходящие далеко за рамки Docker.  Он позволяет автоматизировать процессы развертывания, масштабирования, управления и самовосстановления приложений, делая его незаменимым инструментом для работы с микросервисной архитектурой и большими распределенными системами.
