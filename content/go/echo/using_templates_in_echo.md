## Использование шаблонов в Echo

Фреймворк Echo предоставляет удобный механизм для работы с шаблонами, позволяя динамически генерировать HTML-контент. В этой статье мы рассмотрим основы использования шаблонов в Echo, начиная с настройки движка шаблонизатора и заканчивая передачей данных в шаблоны.

### Выбор и подключение движка шаблонизатора

Echo поддерживает различные движки шаблонизаторов, такие как:

- **html/template (стандартный)**
- **Pongo2**
- **Handlebars**
- **Jet**

Выбор движка зависит от ваших предпочтений и требований проекта. В данной статье мы сфокусируемся на использовании стандартного движка `html/template`.

Для подключения движка `html/template`, необходимо импортировать соответствующий пакет:

```go
import (
	"html/template"
	"net/http"

	"github.com/labstack/echo/v4"
)
```

### Создание обработчика маршрута с использованием шаблонов

Для рендеринга шаблонов в Echo, необходимо создать обработчик маршрута, который будет загружать шаблон, передавать в него данные и отправлять результат клиенту.

Пример обработчика маршрута, использующего шаблон `views/index.html`:

```go
func homeHandler(c echo.Context) error {
	// Данные для передачи в шаблон
	data := struct {
		Title string
		Items []string
	}{
		Title: "Главная страница",
		Items: []string{"Пункт 1", "Пункт 2", "Пункт 3"},
	}

	// Рендеринг шаблона "views/index.html" с передачей данных
	return c.Render(http.StatusOK, "index.html", data)
}
```

В данном примере:

- Создается структура `data` для передачи данных в шаблон.
- Вызывается метод `c.Render()`, который принимает код ответа HTTP, имя шаблона и данные для шаблона.

### Создание шаблона

Шаблон `views/index.html` может выглядеть следующим образом:

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{{.Title}}</title>
</head>
<body>
    <h1>{{.Title}}</h1>
    <ul>
    {{range .Items}}
        <li>{{.}}</li>
    {{end}}
    </ul>
</body>
</html>
```

В шаблоне используются следующие конструкции:

- `{{.Title}}`:  вывод значения поля `Title` из структуры `data`.
- `{{range .Items}}`: цикл по элементам массива `Items`.
- `{{.}}`: вывод текущего элемента массива внутри цикла.

### Запуск сервера и проверка работы

После создания обработчика маршрута и шаблона, необходимо запустить сервер и проверить работу приложения.

Пример кода запуска сервера:

```go
func main() {
	e := echo.New()

	// Регистрация обработчика маршрута для корневого пути
	e.GET("/", homeHandler)

	// Запуск сервера на порту 8080
	e.Logger.Fatal(e.Start(":8080"))
}
```

После запуска сервера, при переходе по адресу `http://localhost:8080/` в браузере будет отображена страница, сгенерированная с использованием шаблона `views/index.html` и переданных данных.

### Дополнительные возможности работы с шаблонами

Помимо базовых функций, Echo предоставляет дополнительные возможности для работы с шаблонами:

- **Использование функций в шаблонах**: Вы можете определить собственные функции на языке Go и использовать их в шаблонах.
- **Наследование шаблонов**: Позволяет создавать базовые шаблоны с общей структурой и наследовать их в других шаблонах.
- **Внедрение шаблонов**: Позволяет внедрять один шаблон в другой.

Более подробно эти возможности будут рассмотрены в следующих разделах руководства. 

В данном разделе мы рассмотрели основы работы с шаблонами в Echo, начиная с подключения движка шаблонизатора и заканчивая рендерингом шаблонов с передачей данных. Используя эти знания, вы можете создавать динамические веб-страницы и приложения с помощью фреймворка Echo.
