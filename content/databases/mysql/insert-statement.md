## Вставка данных (INSERT INTO)

Оператор `INSERT INTO` используется для добавления новых записей в таблицы MySQL. 

### Базовый синтаксис

```sql
INSERT INTO имя_таблицы (столбец1, столбец2, ...)
VALUES (значение1, значение2, ...);
```

* `имя_таблицы` - имя таблицы, в которую вы хотите вставить данные.
* `столбец1`, `столбец2` - имена столбцов, в которые вы хотите вставить данные.
* `значение1`, `значение2` - значения, которые вы хотите вставить в соответствующие столбцы.

**Важно:**

* Порядок столбцов в операторе `INSERT INTO` должен соответствовать порядку значений в операторе `VALUES`.
* Тип данных значений должен соответствовать типу данных столбцов.
* Строковые значения должны быть заключены в одинарные или двойные кавычки.

**Пример:**

Предположим, у нас есть таблица `users` со следующей структурой:

| Столбец | Тип данных |
|---|---|
| id | INT |
| name | VARCHAR(255) |
| email | VARCHAR(255) |

Чтобы добавить нового пользователя в таблицу, мы можем использовать следующий запрос:

```sql
INSERT INTO users (name, email)
VALUES ('Иван Иванов', 'ivan.ivanov@example.com');
```

Этот запрос вставит новую запись в таблицу `users` со значением "Иван Иванов" в столбце `name` и значением "ivan.ivanov@example.com" в столбце `email`.

### Вставка данных во все столбцы

Если вы хотите вставить данные во все столбцы таблицы, то необязательно указывать имена столбцов в операторе `INSERT INTO`. 

**Синтаксис:**

```sql
INSERT INTO имя_таблицы
VALUES (значение1, значение2, ...);
```

**Пример:**

```sql
INSERT INTO users
VALUES (1, 'Петр Петров', 'petr.petrov@example.com');
```

Этот запрос вставит новую запись в таблицу `users` со значением 1 в столбце `id`, значением "Петр Петров" в столбце `name` и значением "petr.petrov@example.com" в столбце `email`.

**Важно:**

* При использовании этого синтаксиса порядок значений в операторе `VALUES` должен строго соответствовать порядку столбцов в таблице. 

### Вставка нескольких строк данных

Для вставки нескольких строк данных за один запрос, можно использовать следующий синтаксис:

```sql
INSERT INTO имя_таблицы (столбец1, столбец2, ...)
VALUES 
  (значение1_1, значение1_2, ...),
  (значение2_1, значение2_2, ...),
  ...;
```

**Пример:**

```sql
INSERT INTO users (name, email)
VALUES 
  ('Сидор Сидоров', 'sidor.sidorov@example.com'),
  ('Анна Иванова', 'anna.ivanova@example.com');
```

Этот запрос вставит две новых записи в таблицу `users`. 

### Использование оператора SELECT для вставки данных

MySQL позволяет вставлять данные из одной таблицы в другую, используя подзапрос `SELECT` в операторе `INSERT INTO`.

**Синтаксис:**

```sql
INSERT INTO имя_таблицы_назначения (столбец1, столбец2, ...)
SELECT столбец1, столбец2, ...
FROM имя_таблицы_источника
WHERE условие;
```

* `имя_таблицы_назначения` - имя таблицы, в которую вы хотите вставить данные.
* `столбец1`, `столбец2` - имена столбцов в таблице назначения.
* `имя_таблицы_источника` - имя таблицы, из которой вы хотите скопировать данные.
* `условие` - необязательное условие для фильтрации строк в таблице источника.

**Пример:**

Предположим, у нас есть таблица `users_backup` с такой же структурой, как и таблица `users`. Чтобы скопировать всех пользователей из `users_backup` в `users`, мы можем использовать следующий запрос:

```sql
INSERT INTO users (name, email)
SELECT name, email
FROM users_backup;
```

Этот запрос скопирует все записи из таблицы `users_backup` в таблицу `users`.

### Обработка ошибок при вставке данных

В процессе вставки данных могут возникать ошибки, например, нарушение ограничений целостности. Для обработки таких ошибок можно использовать переменную `@@warning_count`. 

Переменная `@@warning_count` хранит количество предупреждений, возникших во время выполнения последнего запроса. Если значение переменной больше нуля, значит, при выполнении запроса возникли предупреждения или ошибки. 

**Пример:**

```sql
INSERT INTO users (name, email)
VALUES ('Иван Иванов', 'ivan.ivanov@example.com');

SELECT @@warning_count;
```

Если при выполнении запроса возникнут ошибки, например, дублирование значений в столбце с уникальным ключом, то значение переменной `@@warning_count` будет больше нуля. 

### Заключение

Вставка данных - это одна из основных операций в MySQL. Используя оператор `INSERT INTO` и его различные вариации, вы можете эффективно добавлять новые записи в ваши таблицы.  
