## Создание таблиц

Создание таблиц – одна из основных операций при работе с MySQL.  Для этого используется оператор `CREATE TABLE`. 

### Синтаксис оператора `CREATE TABLE`

```sql
CREATE TABLE [IF NOT EXISTS] имя_таблицы (
    определение_столбца1,
    определение_столбца2,
    ...
    определение_столбцаN,
    [ограничения_таблицы]
);
```

*   `IF NOT EXISTS` - необязательная клаузула. Если таблица с указанным именем уже существует, то запрос выполнится без ошибок.
*   `имя_таблицы` -  имя создаваемой таблицы.
*   `определение_столбца` - определение столбца, включающее его имя, тип данных и необязательные ограничения.
*   `ограничения_таблицы` - необязательные ограничения, применяемые к таблице в целом, например, первичные ключи или внешние ключи.

### Типы данных

MySQL поддерживает множество типов данных. Вот некоторые из наиболее часто используемых:

*   **Числовые типы**:
    *   `INT` - целые числа
    *   `DECIMAL(M,D)` - числа с плавающей точкой, где M - общее количество цифр, D - количество цифр после запятой
    *   `FLOAT` - числа с плавающей точкой одинарной точности
    *   `DOUBLE` - числа с плавающей точкой двойной точности
*   **Строковые типы**:
    *   `CHAR(N)` - строка фиксированной длины N символов
    *   `VARCHAR(N)` - строка переменной длины, максимальная длина N символов
    *   `TEXT` - длинный текст
*   **Типы даты и времени**:
    *   `DATE` - дата в формате 'YYYY-MM-DD'
    *   `TIME` - время в формате 'HH:MI:SS'
    *   `DATETIME` - дата и время в формате 'YYYY-MM-DD HH:MI:SS'
*   **Логический тип**:
    *   `BOOLEAN` - может принимать значения `TRUE`, `FALSE` или `NULL`

### Ограничения столбцов

При определении столбцов можно использовать ограничения, например:

*   `NOT NULL` - столбец не может содержать значение `NULL`.
*   `DEFAULT значение` - устанавливает значение по умолчанию для столбца.
*   `AUTO_INCREMENT` - автоматически увеличивает значение столбца на 1 при каждой новой записи. Применимо только к целочисленным столбцам и только к одному столбцу в таблице.
*   `UNIQUE` - все значения в столбце должны быть уникальными.
*   `PRIMARY KEY` - первичный ключ таблицы. Гарантирует уникальность и не NULL значения в столбце. 

### Создание таблицы: пример

Создадим таблицу `users` с полями `id`, `name` и `email`:

```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY, -- уникальный идентификатор пользователя, генерируется автоматически
    name VARCHAR(255) NOT NULL, -- имя пользователя, не может быть NULL
    email VARCHAR(255) UNIQUE -- адрес электронной почты, должен быть уникальным
);
```

### Ограничения таблицы

Помимо ограничений для столбцов, можно также определить ограничения для всей таблицы:

*   **Первичный ключ (`PRIMARY KEY`)**:
    *   Можно определить при создании таблицы внутри определения столбца, как показано в предыдущем примере, или отдельно после определения всех столбцов:

    ```sql
    CREATE TABLE users (
        id INT AUTO_INCREMENT,
        name VARCHAR(255) NOT NULL,
        email VARCHAR(255) UNIQUE,
        PRIMARY KEY (id) 
    );
    ```
    *   Первичный ключ может состоять из нескольких столбцов:

    ```sql
    CREATE TABLE orders (
        order_id INT,
        product_id INT,
        quantity INT,
        PRIMARY KEY (order_id, product_id)
    );
    ```

*   **Внешний ключ (`FOREIGN KEY`)**:
    *   Используется для связи таблиц. 
    *   Определяет столбец (или набор столбцов) в текущей таблице, который ссылается на первичный ключ другой таблицы. 

    ```sql
    CREATE TABLE orders (
        order_id INT AUTO_INCREMENT PRIMARY KEY,
        user_id INT,
        order_date DATE,
        FOREIGN KEY (user_id) REFERENCES users(id)
    );
    ```

    В данном примере столбец `user_id` в таблице `orders` является внешним ключом, ссылающимся на столбец `id` в таблице `users`.

### Удаление таблиц

Для удаления таблиц используется оператор `DROP TABLE`.

#### Синтаксис оператора `DROP TABLE`

```sql
DROP TABLE [IF EXISTS] имя_таблицы1 [, имя_таблицы2, ...] [RESTRICT | CASCADE];
```

*   `IF EXISTS` - необязательная клаузула. Если таблица не существует, то запрос выполнится без ошибок.
*   `имя_таблицы` - имя удаляемой таблицы. 
*   `RESTRICT` -  не удалять таблицу, если на неё ссылаются внешние ключи. Это поведение по умолчанию.
*   `CASCADE` -  удалить таблицу и все связанные с ней таблицы, на которые ссылаются внешние ключи.

### Удаление таблицы: пример

```sql
-- Удаление таблицы users
DROP TABLE users;

-- Удаление таблицы orders 
-- с каскадным удалением связанных данных
DROP TABLE orders CASCADE;
```

В этой статье мы рассмотрели основы создания и удаления таблиц в MySQL. Более подробно о типах данных, ограничениях и связях между таблицами вы узнаете в следующих разделах данного руководства. 
