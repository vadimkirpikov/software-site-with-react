## Обновление данных (UPDATE)

Оператор `UPDATE` в SQLite позволяет изменять существующие данные в таблице. С его помощью можно модифицировать как одну, так и множество строк одновременно. 

### Синтаксис оператора `UPDATE`

```sql
UPDATE имя_таблицы
SET имя_столбца1 = значение1,
    имя_столбца2 = значение2,
    ...
WHERE условие;
```

* **`UPDATE имя_таблицы`**: Указывает таблицу, данные в которой нужно обновить.
* **`SET имя_столбца = значение`**: Задает столбец для обновления и новое значение для него. Можно обновлять несколько столбцов одновременно, разделяя их запятыми.
* **`WHERE условие`**: Необязательный параметр. Определяет, какие строки будут затронуты обновлением. Если условие не указано, будут обновлены все строки в таблице.

### Примеры использования `UPDATE`

**1. Обновление значения в одной строке:**

Представим таблицу `users` со следующими данными:

| id | name | email | age |
|---|---|---|---|
| 1 | Иван | ivan@example.com | 30 |
| 2 | Мария | maria@example.com | 25 |
| 3 | Петр | petr@example.com | 35 |

Чтобы изменить email пользователя с id = 2, используем следующий запрос:

```sql
UPDATE users
SET email = 'maria.new@example.com'
WHERE id = 2;
```

После выполнения запроса таблица `users` будет выглядеть так:

| id | name | email | age |
|---|---|---|---|
| 1 | Иван | ivan@example.com | 30 |
| 2 | Мария | maria.new@example.com | 25 |
| 3 | Петр | petr@example.com | 35 |

**2. Обновление нескольких столбцов:**

Обновим имя и возраст пользователя с id = 1:

```sql
UPDATE users
SET name = 'Иван Иванович',
    age = 31
WHERE id = 1;
```

**3. Обновление данных с использованием значений из других столбцов:**

Допустим, нам нужно увеличить возраст всех пользователей на 1 год. Для этого можно использовать значение столбца `age` в выражении `SET`:

```sql
UPDATE users
SET age = age + 1;
```

**4. Обновление данных с использованием подзапроса:**

Предположим, у нас есть таблица `orders` с информацией о заказах:

| id | user_id | amount |
|---|---|---|
| 1 | 1 | 100 |
| 2 | 2 | 200 |
| 3 | 1 | 150 |

Необходимо увеличить возраст пользователей, сделавших заказы на сумму более 150. 

```sql
UPDATE users
SET age = age + 1
WHERE id IN (SELECT user_id FROM orders WHERE amount > 150);
```

В этом примере подзапрос `SELECT user_id FROM orders WHERE amount > 150` возвращает список `user_id`, соответствующих заказам на сумму более 150. Затем основной запрос `UPDATE` обновляет возраст пользователей, чьи `id` присутствуют в этом списке.

### Важные моменты

* При обновлении данных без условия `WHERE` изменения будут применены ко всем строкам таблицы.
* При использовании `UPDATE` с подзапросом убедитесь, что подзапрос возвращает корректные данные. 
* После выполнения `UPDATE` рекомендуется использовать `SELECT` для проверки результатов.


Используя оператор `UPDATE`, вы можете эффективно управлять данными в вашей базе данных SQLite, изменяя значения в таблицах в соответствии с вашими потребностями.
