## Обновление данных (UPDATE) в PostgreSQL

Оператор `UPDATE` в PostgreSQL позволяет изменять существующие записи в таблицах базы данных. Этот оператор предоставляет гибкие возможности для выборочного обновления данных на основе заданных условий. 

### Синтаксис оператора UPDATE

Базовый синтаксис оператора `UPDATE` выглядит следующим образом:

```sql
UPDATE имя_таблицы
SET столбец1 = значение1,
    столбец2 = значение2,
    ...
WHERE условие;
```

В этой конструкции:

* **`имя_таблицы`**: имя таблицы, в которой нужно обновить данные.
* **`SET`**: ключевое слово, указывающее на начало списка обновляемых столбцов.
* **`столбец1`, `столбец2`, ...**: имена столбцов, значения которых необходимо изменить.
* **`значение1`, `значение2`, ...**: новые значения для соответствующих столбцов. 
* **`WHERE`**: необязательное предложение, определяющее условие для выбора строк, подлежащих обновлению. Если предложение `WHERE` опущено, будут обновлены все строки в таблице.

### Примеры использования UPDATE

Рассмотрим несколько примеров использования оператора `UPDATE` для обновления данных в таблице `employees`:

**1. Обновление значения в одной строке:**

```sql
-- Обновить зарплату сотрудника с id = 1
UPDATE employees
SET salary = 60000
WHERE id = 1;
```

**2. Обновление нескольких столбцов:**

```sql
-- Обновить имя, фамилию и зарплату сотрудника с id = 2
UPDATE employees
SET first_name = 'Иван',
    last_name = 'Петров',
    salary = 75000
WHERE id = 2;
```

**3. Обновление данных на основе вычисляемого значения:**

```sql
-- Увеличить зарплату на 10% для всех сотрудников отдела продаж
UPDATE employees
SET salary = salary * 1.10
WHERE department = 'Sales';
```

**4. Обновление данных с использованием подзапроса:**

```sql
-- Установить зарплату сотрудников отдела 'Marketing' равной 
-- максимальной зарплате в отделе 'Sales'
UPDATE employees
SET salary = (SELECT MAX(salary) FROM employees WHERE department = 'Sales')
WHERE department = 'Marketing';
```

### Важные моменты при использовании UPDATE

* **Обязательно используйте предложение `WHERE`**, если необходимо обновить только определенные строки. Иначе будут обновлены все строки в таблице.
* **Будьте осторожны при обновлении данных на основе вычисляемых значений**, чтобы избежать нежелательных результатов.
* **Проверяйте результаты выполнения оператора `UPDATE`**, чтобы убедиться, что данные были обновлены корректно.
* **Используйте транзакции**, чтобы обеспечить целостность данных при выполнении нескольких операций обновления.

### Заключение

Оператор `UPDATE` является важным инструментом для управления данными в PostgreSQL. Он предоставляет гибкие возможности для изменения существующих записей в таблицах базы данных, что позволяет поддерживать актуальность и  соответствие информации вашим требованиям. 
