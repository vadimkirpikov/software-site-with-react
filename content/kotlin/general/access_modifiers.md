## Модификаторы доступа в Kotlin

Модификаторы доступа в Kotlin играют ключевую роль в управлении видимостью и доступностью объявлений, таких как классы, функции, свойства и их сеттеры. Они определяют, из каких частей кода можно обращаться к объявленным сущностям. Правильное использование модификаторов доступа способствует созданию чистого, понятного и поддерживаемого кода, минимизируя непредвиденные побочные эффекты и утечки абстракций.

Kotlin предоставляет четыре основных модификатора доступа: `public`, `internal`, `protected` и `private`. По умолчанию, если модификатор доступа не указан, используется `public`.

### `public`

Объявление с модификатором `public` доступно из любого места программы. Это наиболее открытый уровень доступа, делающий объявление видимым для всех.

**Пример:**

```kotlin
// Класс PublicClass доступен отовсюду
public class PublicClass {
    // Функция publicFunction доступна отовсюду
    public fun publicFunction() {
        println("Это публичная функция")
    }
}

fun main() {
    val obj = PublicClass()
    obj.publicFunction() // Доступ к публичной функции из другой функции
}
```

### `internal`

Модификатор `internal` ограничивает область видимости объявления модулем. Модуль в Kotlin - это набор Kotlin-файлов, скомпилированных вместе. 

**Пример:**

```kotlin
// Класс InternalClass доступен только внутри модуля
internal class InternalClass {
    // Функция internalFunction доступна только внутри модуля
    internal fun internalFunction() {
        println("Это внутренняя функция")
    }
}

fun main() {
    val obj = InternalClass() // Доступ к InternalClass возможен внутри того же модуля
    obj.internalFunction() // Доступ к internalFunction возможен внутри того же модуля
}
```

**Попытка доступа к `InternalClass` или `internalFunction` из другого модуля приведет к ошибке компиляции.**

### `protected`

Модификатор `protected` делает объявление видимым внутри класса, в котором оно объявлено, а также в его подклассах.

**Пример:**

```kotlin
open class ParentClass {
    // Функция protectedFunction доступна только внутри класса ParentClass и его подклассов
    protected fun protectedFunction() {
        println("Это защищенная функция")
    }
}

class ChildClass : ParentClass() {
    fun callProtectedFunction() {
        protectedFunction() // Доступ к protectedFunction из подкласса
    }
}

fun main() {
    val parent = ParentClass()
    //parent.protectedFunction() // Ошибка: Нельзя получить доступ к protectedFunction извне класса или его подклассов

    val child = ChildClass()
    child.callProtectedFunction() // Вызов protectedFunction из подкласса
}
```

**Важно:** `protected` объявления **не** видны из других классов того же пакета, в отличие от Java.

### `private`

Модификатор `private` ограничивает область видимости объявления файлом, в котором оно находится.

**Пример:**

```kotlin
class PrivateClass {
    // Функция privateFunction доступна только внутри файла PrivateClass.kt
    private fun privateFunction() {
        println("Это приватная функция")
    }

    fun callPrivateFunction() {
        privateFunction() // Доступ к privateFunction возможен внутри того же файла
    }
}

fun main() {
    val obj = PrivateClass()
    //obj.privateFunction() // Ошибка: Нельзя получить доступ к privateFunction из другого файла
    obj.callPrivateFunction() // Доступ к public функции, которая вызывает privateFunction
}
```

**Попытка доступа к `privateFunction` из другого файла приведет к ошибке компиляции.**

### Модификаторы доступа для конструкторов

Конструкторы классов по умолчанию являются `public`. Вы можете изменить модификатор доступа конструктора, поставив его перед ключевым словом `constructor`:

```kotlin
class PrivateConstructor private constructor(val name: String) { 
    // ...
}
```

В этом примере конструктор класса `PrivateConstructor` объявлен как `private`, что делает невозможным создание экземпляра этого класса извне файла.

### Таблица модификаторов доступа

| Модификатор | Область видимости                                       |
|-------------|---------------------------------------------------------|
| `public`    | Везде                                                    |
| `internal`   | Внутри модуля                                           |
| `protected`  | Внутри класса и его подклассов                         |
| `private`   | Внутри файла                                               |

**Важно помнить**:

* Модификаторы доступа играют важную роль в проектировании программного обеспечения. 
* Правильный выбор модификатора доступа помогает скрыть детали реализации и предотвратить нежелательные зависимости. 
* Придерживайтесь принципа наименьших привилегий: объявляйте элементы с уровнем доступа, достаточным для их функциональности. 
