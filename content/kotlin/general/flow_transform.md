## Преобразование коллекций: функции map и transform

Функции `map` и `transform` являются мощными инструментами Kotlin, которые позволяют преобразовывать коллекции в новые коллекции, применяя заданную функцию к каждому элементу.

### Функция map

Функция `map` принимает лямбда-выражение в качестве аргумента. Лямбда-выражение определяет преобразование, которое будет применено к каждому элементу исходной коллекции. Результатом работы функции `map` будет новая коллекция, содержащая результаты преобразования каждого элемента.

#### Синтаксис:

```kotlin
val result = collection.map { item -> // преобразование элемента }
```

где:

* `collection` - исходная коллекция.
* `item` - переменная, представляющая текущий элемент коллекции.
* `преобразование элемента` - код, определяющий преобразование элемента.

#### Пример:

```kotlin
val numbers = listOf(1, 2, 3, 4, 5)

// Увеличиваем каждый элемент на 10
val increasedNumbers = numbers.map { it + 10 }

println(increasedNumbers) // Вывод: [11, 12, 13, 14, 15]
```

В данном примере `it` является неявным именем единственного параметра лямбда-выражения.

#### Использование map для преобразования типов данных

Функция `map` полезна для преобразования коллекций одного типа данных в коллекции другого типа данных. 

#### Пример:

```kotlin
data class Person(val name: String, val age: Int)

val people = listOf(
    Person("Alice", 25),
    Person("Bob", 30),
    Person("Charlie", 28)
)

// Создаем список имен всех людей
val names = people.map { it.name }

println(names) // Вывод: [Alice, Bob, Charlie]
```

В этом примере мы использовали `map`, чтобы преобразовать список объектов `Person` в список строк, содержащих имена людей.

### Функция transform

Функция `transform` похожа на `map`, но она более гибкая. В отличие от `map`, `transform` не создает новую коллекцию. Вместо этого, она изменяет исходную коллекцию, применяя к ней заданное преобразование.

#### Синтаксис:

```kotlin
collection.transform { item -> // преобразование элемента }
```

#### Пример:

```kotlin
val numbers = mutableListOf(1, 2, 3, 4, 5)

// Увеличиваем каждый элемент на 10
numbers.transform { it + 10 }

println(numbers) // Вывод: [11, 12, 13, 14, 15]
```

Важно отметить, что `transform` работает только с изменяемыми коллекциями (`MutableList`, `MutableSet`, `MutableMap`).

#### Более сложные преобразования с помощью transform

Функция `transform` также может принимать в качестве аргумента лямбда-выражение с двумя параметрами: элементом коллекции и его индексом. 

#### Пример:

```kotlin
val numbers = mutableListOf(1, 2, 3, 4, 5)

// Увеличиваем каждый элемент на его индекс
numbers.transformIndexed { index, value -> value + index }

println(numbers) // Вывод: [1, 3, 5, 7, 9]
```

### Выбор между map и transform

Выбор между `map` и `transform` зависит от конкретной задачи:

* **Используйте `map`, если:**
    * Вам нужна новая коллекция с преобразованными данными.
    * Вы не хотите изменять исходную коллекцию.
* **Используйте `transform`, если:**
    * Вы хотите изменить исходную коллекцию "на месте".
    * Вам не нужна новая коллекция.

### Заключение

Функции `map` и `transform` - это мощные инструменты для работы с коллекциями в Kotlin. Они позволяют легко преобразовывать данные в нужный формат, что делает код более лаконичным и выразительным. 
