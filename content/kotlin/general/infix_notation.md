## Инфиксная нотация в Kotlin

Инфиксная нотация – это форма записи кода, при которой оператор располагается **между** операндами.  Такой стиль записи придает коду более естественный и читаемый вид, особенно при работе с математическими или логическими выражениями.

В Kotlin большинство операторов (`+`, `-`, `*`, `/`, `%`, `==`, `!=`, `>`, `<`, `>=`, `<=`, `&&`, `||`) по умолчанию являются инфиксными. Например:

```kotlin
val sum = 5 + 3 // Сложение
val isEqual = 10 == 10 // Проверка на равенство
```

Однако Kotlin также позволяет объявлять собственные функции и расширения, которые могут использоваться в инфиксной нотации. Это делает код более выразительным и лаконичным.

### Объявление инфиксных функций

Для объявления инфиксной функции необходимо выполнить следующие условия:

* Функция должна быть **членской** или **расширением**.
* Функция должна принимать **ровно один аргумент**.
* Функция должна быть помечена модификатором `infix`.

Рассмотрим пример:

```kotlin
infix fun Int.multiplyBy(other: Int): Int {
    return this * other
}

fun main() {
    val result = 5 multiplyBy 3 
    println(result) // Выведет: 15
}
```

В данном примере мы определили инфиксную функцию `multiplyBy`, которая является расширением для типа `Int`. Функция принимает один аргумент `other` типа `Int` и возвращает результат умножения.

Благодаря модификатору `infix` мы можем вызывать эту функцию в инфиксной нотации: `5 multiplyBy 3`.

### Преимущества инфиксной нотации

Использование инфиксной нотации для собственных функций и расширений предоставляет ряд преимуществ:

* **Улучшает читаемость кода**, делая его более похожим на естественный язык.
* **Повышает лаконичность**, сокращая количество скобок и точек.
* **Делает код более выразительным**, подчеркивая назначение функций.

### Примеры использования

Рассмотрим несколько примеров, демонстрирующих использование инфиксной нотации:

#### 1. Работа со строками:

```kotlin
infix fun String.append(suffix: String): String {
    return this + suffix
}

fun main() {
    val greeting = "Hello" append " world!"
    println(greeting) // Выведет: Hello world!
}
```

#### 2. Работа с коллекциями:

```kotlin
infix fun <T> List<T>.containsElement(element: T): Boolean {
    return this.contains(element)
}

fun main() {
    val numbers = listOf(1, 2, 3, 4, 5)
    val hasThree = numbers containsElement 3
    println(hasThree) // Выведет: true
}
```

#### 3. Создание DSL (предметно-ориентированных языков):

```kotlin
data class Person(val name: String, val age: Int)

infix fun String.yearsOld(age: Int): Person {
    return Person(this, age)
}

fun main() {
    val person = "John" yearsOld 30
    println(person) // Выведет: Person(name=John, age=30)
}
```

### Заключение

Инфиксная нотация – это мощный инструмент, позволяющий создавать более читаемый, лаконичный и выразительный код. Используйте инфиксные функции и расширения, чтобы сделать ваш код на Kotlin чище и понятнее.
