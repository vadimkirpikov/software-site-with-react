## Геттеры и сеттеры в Kotlin

В объектно-ориентированном программировании одним из ключевых принципов является инкапсуляция. Инкапсуляция подразумевает, что внутренняя реализация класса скрыта от внешнего мира, а доступ к данным класса осуществляется через специальные методы – геттеры и сеттеры.

В языке Kotlin концепция геттеров и сеттеров тесно интегрирована в объявление свойств класса.  

### Свойства с бэкенд-полем

По умолчанию, при объявлении свойства Kotlin автоматически генерирует для него бэкенд-поле (backing field) и методы доступа – геттер и сеттер. 

```kotlin
class Person {
    var name: String = "" 
    var age: Int = 0 
}
```

В этом примере мы объявили класс `Person` с двумя свойствами: `name` типа `String` и `age` типа `Int`.  Kotlin автоматически создал для каждого свойства:

* **Бэкенд-поле:** Хранит фактическое значение свойства.
* **Геттер:** Возвращает значение бэкенд-поля. Вызывается при чтении значения свойства.
* **Сеттер:** Присваивает новое значение бэкенд-полю. Вызывается при изменении значения свойства.

Доступ к свойствам осуществляется как к обычным полям:

```kotlin
fun main() {
    val person = Person()
    person.name = "Иван" // Вызывается сеттер свойства name
    person.age = 30      // Вызывается сеттер свойства age
    println(person.name)  // Вызывается геттер свойства name
    println(person.age)   // Вызывается геттер свойства age
}
```

### Пользовательские геттеры и сеттеры

Kotlin позволяет определять собственные геттеры и сеттеры для более тонкого контроля над доступом к свойствам. 

```kotlin
class Person {
    var name: String = ""
        get() = field.uppercase() // Геттер возвращает имя в верхнем регистре
        set(value) {
            field = "Mr. $value" // Сеттер добавляет префикс "Mr. "
        }
    var age: Int = 0 
        set(value) {
            field = if (value < 0) 0 else value // Сеттер проверяет значение на корректность
        }
}
```

В этом примере:

* **Свойство `name`:** 
    * Геттер использует ключевое слово `field` для доступа к бэкенд-полю и возвращает значение `name` в верхнем регистре. 
    * Сеттер также использует `field` для записи значения, но перед этим добавляет префикс "Mr. ".

* **Свойство `age`:**
    * Сеттер проверяет значение `value` перед записью. Если `value` меньше 0, то в бэкенд-поле записывается 0, иначе – значение `value`. 

Обратите внимание на использование ключевого слова `field` внутри геттера и сеттера. `field` – это специальная ссылка, которая ссылается на бэкенд-поле свойства. 

### Свойства без бэкенд-поля

Если свойство не предполагает хранения состояния, то можно объявить его без бэкенд-поля, используя ключевое слово `const` или `val`  с инициализацией значения:

```kotlin
class Circle(val radius: Double) { // val создает свойство только для чтения
    val circumference: Double 
        get() = 2 * Math.PI * radius
}
```

В данном случае у свойства `circumference` нет бэкенд-поля, и его значение вычисляется динамически при каждом обращении к геттеру.

### Заключение

Геттеры и сеттеры – это мощный инструмент Kotlin, позволяющий контролировать доступ к свойствам класса и реализовывать инкапсуляцию данных. Вы можете использовать стандартные геттеры и сеттеры, предоставляемые по умолчанию, или создавать собственные для реализации сложной логики валидации и обработки данных.
