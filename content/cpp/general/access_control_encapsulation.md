## Управление доступом. Инкапсуляция

Управление доступом и инкапсуляция – фундаментальные концепции объектно-ориентированного программирования (ООП), являющиеся основой для создания надежных и модульных программ. В C++ эти концепции реализуются с помощью спецификаторов доступа и классов.

### Спецификаторы доступа

Спецификаторы доступа определяют, какие элементы класса (данные и функции) доступны извне класса. В C++ существует три типа спецификаторов доступа:

| Спецификатор | Описание |
|---|---|
| `public` | Члены класса, объявленные как `public`, доступны из любой части программы. |
| `private` | Члены класса, объявленные как `private`, доступны только внутри класса и для функций-друзей класса. |
| `protected` | Члены класса, объявленные как `protected`, доступны внутри класса, для функций-друзей класса и для производных классов. |

### Классы и инкапсуляция

Класс – это пользовательский тип данных, который объединяет данные и функции для работы с этими данными. Инкапсуляция – это механизм сокрытия деталей реализации класса от внешнего мира, предоставляя доступ к функциональности класса через публичный интерфейс.

Рассмотрим пример класса `BankAccount`, который хранит информацию о банковском счете:

```c++
class BankAccount {
 private:
  // Номер счета и баланс являются приватными членами класса
  int account_number_;
  double balance_;

 public:
  // Конструктор для инициализации счета
  BankAccount(int account_number, double balance) 
      : account_number_(account_number), balance_(balance) {}

  // Публичный метод для пополнения счета
  void Deposit(double amount) {
    balance_ += amount;
  }

  // Публичный метод для снятия средств
  bool Withdraw(double amount) {
    if (balance_ >= amount) {
      balance_ -= amount;
      return true;
    } else {
      return false;
    }
  }

  // Публичный метод для получения текущего баланса
  double GetBalance() const { 
    return balance_; 
  }
};
```

В этом примере:

- `account_number_` и `balance_` являются приватными членами класса и недоступны извне класса.
- Конструктор `BankAccount`, методы `Deposit`, `Withdraw` и `GetBalance` являются публичными членами класса и образуют публичный интерфейс класса `BankAccount`.

Инкапсуляция достигается путем скрытия данных (`account_number_` и `balance_`) и предоставления доступа к ним только через публичные методы. Такой подход обеспечивает:

- **Защиту данных:** Прямой доступ к данным извне класса запрещен, что предотвращает случайную порчу данных.
- **Гибкость:** Внутренняя реализация класса может быть изменена без влияния на код, использующий этот класс.

### Использование класса

Создадим объект класса `BankAccount` и воспользуемся его методами:

```c++
int main() {
  // Создание объекта класса BankAccount
  BankAccount my_account(12345, 1000.0);

  // Пополнение счета на 500.0
  my_account.Deposit(500.0);

  // Снятие со счета 200.0
  bool success = my_account.Withdraw(200.0);

  // Вывод текущего баланса
  std::cout << "Текущий баланс: " << my_account.GetBalance() << std::endl;

  return 0;
}
```

В этом примере:

1. Создается объект `my_account` класса `BankAccount` с номером счета 12345 и балансом 1000.0.
2. Метод `Deposit` используется для пополнения счета на 500.0.
3. Метод `Withdraw` используется для снятия со счета 200.0.
4. Метод `GetBalance` используется для получения текущего баланса.

### Заключение

Управление доступом и инкапсуляция - важные концепции ООП, которые позволяют создавать модульные, надежные и легко поддерживаемые программы. Спецификаторы доступа позволяют контролировать видимость членов класса, а инкапсуляция скрывает детали реализации класса, предоставляя доступ к его функциональности через публичный интерфейс. 
