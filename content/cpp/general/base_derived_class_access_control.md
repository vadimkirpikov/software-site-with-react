## Управление доступом в базовых и производных классах

В C++ наследование позволяет создавать новые классы (производные), базируясь на уже существующих (базовые). Одним из ключевых аспектов наследования является управление доступом к членам базового класса из производного.  

### Спецификаторы доступа

C++ предоставляет три спецификатора доступа для контроля области видимости членов класса:

- **public:** Члены, объявленные как public, доступны из любого места программы.
- **protected:** Члены, объявленные как protected, доступны внутри класса, в котором они объявлены, а также внутри классов, производных от этого класса.
- **private:** Члены, объявленные как private, доступны только внутри класса, в котором они объявлены.

### Спецификаторы наследования

При наследовании класса можно использовать один из трех спецификаторов наследования, которые определяют доступ к членам базового класса в производном классе:

- **public:** Публичное наследование. 
- **protected:** Защищенное наследование.
- **private:** Приватное наследование.

В таблице ниже показано, как спецификаторы наследования влияют на доступ к членам базового класса в производном классе.

| Спецификатор  | public (базовый) | protected (базовый) | private (базовый) |
|--------------|-----------------|--------------------|-------------------|
| public       | public          | protected         | недоступно        |
| protected    | protected       | protected         | недоступно        |
| private      | private         | private            | недоступно        |

#### Public наследование

Публичное наследование моделирует отношение "является". Если класс `Derived` публично наследуется от класса `Base`, то объект типа `Derived` "является" также объектом типа `Base`. 

```c++
class Base {
public:
    int public_member;
protected:
    int protected_member;
private:
    int private_member;
};

class Derived : public Base {
public:
    void access_members() {
        public_member = 10;    // Доступ разрешен
        protected_member = 20; // Доступ разрешен
        // private_member = 30; // Ошибка компиляции: 
                               // недоступен из производного класса
    }
};

int main() {
    Derived d;
    d.public_member = 5;       // Доступ разрешен
    // d.protected_member = 15; // Ошибка компиляции: 
                                 // недоступен извне класса
    // d.private_member = 25;  // Ошибка компиляции: 
                                 // недоступен извне класса
}
```

#### Protected наследование

Защищенное наследование используется реже, чем публичное. При защищенном наследовании публичные и защищенные члены базового класса становятся защищенными в производном классе. 

```c++
class Base {
public:
    int public_member;
protected:
    int protected_member;
};

class Derived : protected Base {
public:
    void access_members() {
        public_member = 10;    // Доступ разрешен
        protected_member = 20; // Доступ разрешен
    }
};

int main() {
    Derived d;
    // d.public_member = 5;    // Ошибка компиляции: 
                              // недоступен извне класса
    // d.protected_member = 15; // Ошибка компиляции: 
                              // недоступен извне класса
}
```

#### Private наследование

Приватное наследование моделирует отношение "реализовано с помощью".  Все члены базового класса становятся приватными в производном классе. 

```c++
class Base {
public:
    int public_member;
protected:
    int protected_member;
};

class Derived : private Base {
public:
    void access_members() {
        public_member = 10;    // Доступ разрешен
        protected_member = 20; // Доступ разрешен
    }
};

int main() {
    Derived d;
    // d.public_member = 5;    // Ошибка компиляции: 
                              // недоступен извне класса
    // d.protected_member = 15; // Ошибка компиляции: 
                              // недоступен извне класса
}
```

### Выбор правильного спецификатора

Выбор правильного спецификатора наследования и доступа  важен для создания корректной иерархии классов. 

- Используйте **public** наследование, когда хотите смоделировать отношение "является".
- Используйте **protected** наследование, когда нужно скрыть детали реализации базового класса от пользователей производного класса, но предоставить доступ к ним классам-наследникам.
- Используйте **private** наследование, когда нужно использовать функциональность базового класса, не раскрывая ее в интерфейсе производного класса. 
