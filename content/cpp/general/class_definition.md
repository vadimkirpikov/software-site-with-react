## Определение классов в C++

Класс в C++ является основным строительным блоком для создания пользовательских типов данных. Он инкапсулирует данные (переменные-члены) и функции (функции-члены), которые работают с этими данными. Классы позволяют создавать абстрактные типы данных, которые моделируют объекты реального мира или концепции.

### Объявление класса

Объявление класса определяет шаблон или чертеж для создания объектов этого класса. Оно включает в себя имя класса, за которым следуют фигурные скобки, содержащие объявления переменных-членов и функций-членов.

```c++
class Rectangle {
public:
  int width;
  int height;

  int getArea() {
    return width * height;
  }
};
```

В данном примере объявляется класс `Rectangle` с двумя переменными-членами `width` и `height`, представляющими ширину и высоту прямоугольника, и функцией-членом `getArea()`, которая вычисляет и возвращает площадь прямоугольника. Ключевое слово `public` определяет область видимости, означающую, что переменные и функции, объявленные после него, доступны извне класса.

### Создание объектов

После объявления класса можно создавать объекты этого класса, используя имя класса, за которым следует имя объекта. 

```c++
Rectangle rect1;  // Создание объекта rect1 класса Rectangle
```

### Доступ к членам класса

Для доступа к переменным-членам и функциям-членам объекта используется оператор точки `.`.

```c++
rect1.width = 5;   // Присваивание значения переменной-члену
rect1.height = 10;  

int area = rect1.getArea();  // Вызов функции-члена
```

### Конструкторы

Конструктор - это специальная функция-член, которая вызывается автоматически при создании объекта класса. Он используется для инициализации переменных-членов объекта. Конструктор имеет то же имя, что и класс, и не имеет возвращаемого типа.

```c++
class Rectangle {
public:
  int width;
  int height;

  // Конструктор
  Rectangle(int w, int h) { 
    width = w;
    height = h;
  }

  int getArea() {
    return width * height;
  }
};

int main() {
  Rectangle rect2(5, 10); // Создание объекта с использованием конструктора
  
  return 0;
}
```

В этом примере конструктор `Rectangle(int w, int h)` инициализирует переменные-члены `width` и `height` значениями, переданными в качестве аргументов при создании объекта `rect2`.

### Деструкторы

Деструктор - это специальная функция-член, которая вызывается автоматически при уничтожении объекта класса. Он используется для освобождения ресурсов, выделенных объектом. Деструктор имеет то же имя, что и класс, но с префиксом `~`.

```c++
class MyClass {
public:
  // Конструктор
  MyClass() { 
    // Выделение ресурсов
  }

  // Деструктор
  ~MyClass() {
    // Освобождение ресурсов
  }
};
```

### Ключевое слово `this`

Ключевое слово `this` является указателем на текущий объект класса. Оно используется для доступа к членам класса внутри функций-членов.

```c++
class Rectangle {
public:
  int width;
  int height;

  Rectangle(int w, int h) { 
    this->width = w;  // Использование this для доступа к переменной-члену
    this->height = h; 
  }
};
```

### Области видимости

В C++ используются три основных области видимости для членов класса:

* **public:** Члены, объявленные как `public`, доступны из любой части программы.
* **private:** Члены, объявленные как `private`, доступны только изнутри класса, в котором они объявлены.
* **protected:** Члены, объявленные как `protected`, доступны изнутри класса, в котором они объявлены, а также из производных классов.

По умолчанию все члены класса являются `private`.

### Пример класса

```c++
#include <iostream>

class BankAccount {
private:
  // Номер счета
  int accountNumber;
  // Баланс счета
  double balance;

public:
  // Конструктор
  BankAccount(int accNum, double initialBalance) {
    accountNumber = accNum;
    balance = initialBalance;
  }

  // Метод для пополнения счета
  void deposit(double amount) {
    balance += amount;
  }

  // Метод для снятия средств со счета
  void withdraw(double amount) {
    if (balance >= amount) {
      balance -= amount;
    } else {
      std::cout << "Недостаточно средств на счете." << std::endl;
    }
  }

  // Метод для отображения баланса
  void displayBalance() const {
    std::cout << "Номер счета: " << accountNumber << std::endl;
    std::cout << "Баланс: " << balance << std::endl;
  }
};

int main() {
  // Создание объекта BankAccount
  BankAccount myAccount(12345, 1000.0);

  // Вызов методов объекта
  myAccount.displayBalance();
  myAccount.deposit(500.0);
  myAccount.withdraw(200.0);
  myAccount.displayBalance();

  return 0;
}
```

В этом примере класс `BankAccount` инкапсулирует данные о банковском счете (номер счета и баланс) и предоставляет методы для взаимодействия с этими данными (пополнение, снятие, отображение баланса).

### Заключение

Классы являются фундаментальной концепцией в C++, позволяющей создавать собственные типы данных с помощью инкапсуляции, наследования и полиморфизма.
