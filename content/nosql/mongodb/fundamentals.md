## Основные принципы работы MongoDB

MongoDB - это документоориентированная база данных NoSQL, которая хранит данные в формате JSON-подобных документов BSON (Binary JSON).  В отличие от реляционных баз данных, использующих таблицы и строки, MongoDB предлагает гибкую схему данных, что упрощает работу с данными, структура которых может меняться. 

### Документы и коллекции

**Документ** - это базовая единица данных в MongoDB.  Он представляет собой набор пар "ключ-значение", заключенных в фигурные скобки. 

```javascript
{
  "_id": ObjectId("64e314c6e3817a783e033312"),
  "имя": "Иван",
  "возраст": 30,
  "город": "Москва"
}
```

**Коллекция** - это группа документов. В отличие от таблиц в реляционных базах данных, коллекции не требуют предварительного определения схемы. 

### Гибкость схемы данных

MongoDB не накладывает жестких ограничений на структуру документов в коллекции.  Это означает, что документы в одной коллекции могут иметь разные поля. Например, следующие два документа могут находиться в одной коллекции:

```javascript
{
  "_id": ObjectId("64e314c6e3817a783e033313"),
  "название": "Книга",
  "автор": "Джордж Оруэлл",
  "год": 1949
}

{
  "_id": ObjectId("64e314c6e3817a783e033314"),
  "название": "Фильм",
  "режиссер": "Кристофер Нолан",
  "год": 2010,
  "актеры": ["Леонардо Ди Каприо", "Джозеф Гордон-Левитт"]
}
```

### BSON и JSON

MongoDB использует BSON (Binary JSON) для хранения данных. BSON - это бинарный формат, который расширяет JSON, добавляя поддержку дополнительных типов данных, таких как Date, BinData и ObjectId. 

### Горизонтальное масштабирование

MongoDB спроектирована для горизонтального масштабирования. Это означает, что вы можете распределить базу данных на несколько серверов для повышения производительности и доступности.

### Репликация

MongoDB поддерживает репликацию данных, что обеспечивает отказоустойчивость. Данные реплицируются на несколько серверов, и в случае сбоя одного из них, другой сервер может взять на себя его роль.

## Подключение к MongoDB и выполнение основных операций

### Установка и запуск MongoDB

Инструкции по установке MongoDB для вашей операционной системы вы можете найти на официальном сайте: [https://www.mongodb.com/docs/manual/installation/](https://www.mongodb.com/docs/manual/installation/).

### Подключение к MongoDB Shell

MongoDB Shell - это интерактивный JavaScript-интерпретатор, который позволяет взаимодействовать с MongoDB. Чтобы подключиться к MongoDB Shell, выполните команду `mongo` в терминале.

### Создание базы данных и коллекции

Чтобы создать базу данных, используйте команду `use <имя_базы_данных>`. Если база данных не существует, она будет создана автоматически. 

```javascript
use test_db // Создает базу данных "test_db"
```

Для создания коллекции используйте команду `db.createCollection(<имя_коллекции>)`.

```javascript
db.createCollection("users") // Создает коллекцию "users" в базе данных "test_db"
```

### Вставка документов

Для вставки документа в коллекцию используйте команду `db.<имя_коллекции>.insertOne(<документ>)` или `db.<имя_коллекции>.insertMany([<документ1>, <документ2>, ...])`.

```javascript
db.users.insertOne({
  "имя": "Анна",
  "возраст": 25,
  "город": "Санкт-Петербург"
})
```

### Чтение документов

Для чтения документов из коллекции используйте команду `db.<имя_коллекции>.find(<запрос>)`. 

```javascript
// Находит все документы в коллекции "users"
db.users.find() 

// Находит документы, где "город" равен "Москва"
db.users.find({"город": "Москва"})
```

### Обновление документов

Для обновления документов используйте команду `db.<имя_коллекции>.updateOne(<фильтр>, <обновление>)` или `db.<имя_коллекции>.updateMany(<фильтр>, <обновление>)`.

```javascript
// Увеличивает "возраст" на 1 для всех пользователей с "имя" равным "Анна"
db.users.updateMany(
  {"имя": "Анна"},
  { $inc: { "возраст": 1 } }
)
```

### Удаление документов

Для удаления документов используйте команду `db.<имя_коллекции>.deleteOne(<фильтр>)` или `db.<имя_коллекции>.deleteMany(<фильтр>)`.

```javascript
// Удаляет все документы, где "город" равен "Санкт-Петербург"
db.users.deleteMany({"город": "Санкт-Петербург"})
```

Это лишь краткое введение в основные принципы работы MongoDB.  Более подробно мы рассмотрим возможности MongoDB в следующих разделах руководства. 
