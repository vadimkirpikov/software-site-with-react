## Основы языка запросов Cypher

Cypher - это декларативный язык запросов, разработанный специально для работы с графовыми базами данных, таких как Neo4j. Он позволяет вам легко и эффективно извлекать информацию из графовой структуры, а также манипулировать ею. В этом разделе мы рассмотрим основы языка Cypher,  ознакомимся с ключевыми элементами синтаксиса и изучим примеры простых запросов.

### Основные элементы запроса

**Ключевые слова**:

* **MATCH**: Поиск узлов и связей в графе, соответствующих заданным условиям.
* **CREATE**: Создание новых узлов и связей.
* **MERGE**: Создание новых узлов и связей, если они еще не существуют, или обновление существующих.
* **DELETE**: Удаление узлов и связей.
* **RETURN**: Возврат результатов запроса.
* **WITH**: Передача результатов предыдущей операции в следующую.

**Типы данных**:

* **Узлы (Nodes)**: Представляют объекты в графе.
* **Связи (Relationships)**: Представляют связи между узлами.
* **Свойства (Properties)**: Характеристики узлов и связей, хранящие информацию о них.

**Синтаксис**:

* **()**: Обозначает узел.
* **[]**: Обозначает свойства.
* **->**: Обозначает направленную связь.
* **<-**: Обозначает обратную направленную связь.
* **-[:TYPE]** Обозначает связь с типом TYPE.
* **WHERE**: Используется для фильтрации результатов.
* **ORDER BY**: Используется для сортировки результатов.
* **LIMIT**: Используется для ограничения количества возвращаемых результатов.

### Примеры запросов

**1. Поиск узлов:**

```cypher
MATCH (n) // Находим все узлы
RETURN n // Возвращаем найденные узлы
```

**2. Поиск узлов с определенным свойством:**

```cypher
MATCH (n:Person {name: 'John Doe'}) // Находим узел с типом Person и свойством name, равным 'John Doe'
RETURN n // Возвращаем найденные узлы
```

**3. Поиск связей:**

```cypher
MATCH (p:Person)-[:FRIENDS]->(f:Person) // Находим связь между узлами с типами Person и свойством FRIENDS
RETURN p, f // Возвращаем узлы, участвующие в связи
```

**4. Создание узла:**

```cypher
CREATE (n:Person {name: 'Alice', age: 30}) // Создаем узел с типом Person и свойствами name и age
```

**5. Создание связи:**

```cypher
MATCH (p:Person {name: 'John Doe'}), (a:Person {name: 'Alice'}) // Находим узлы с типами Person и свойствами name
CREATE (p)-[:KNOWS]->(a) // Создаем связь KNOWS между найденными узлами
```

**6. Обновление свойств:**

```cypher
MATCH (p:Person {name: 'John Doe'}) // Находим узел с типом Person и свойством name, равным 'John Doe'
SET p.age = 35 // Обновляем свойство age узла
```

**7. Удаление узла:**

```cypher
MATCH (p:Person {name: 'John Doe'}) // Находим узел с типом Person и свойством name, равным 'John Doe'
DELETE p // Удаляем найденный узел
```

**8. Удаление связи:**

```cypher
MATCH (p:Person {name: 'John Doe'})-[:FRIENDS]->(f:Person) // Находим связь с типом FRIENDS между узлами
DELETE p-[:FRIENDS]->f // Удаляем связь между найденными узлами
```

### Дополнительные возможности

* **Использование переменных**: Можно использовать переменные для хранения результатов запроса. Например, `MATCH (p:Person {name: 'John Doe'}) SET p.age = 35 RETURN p AS person`.

* **Проверка существования**: Используйте `WHERE EXISTS` для проверки существования определенных свойств или связей.

* **Использование выражений**: Cypher позволяет использовать арифметические, логические и строковые выражения в запросах.

* **Использование функций**: Cypher предоставляет набор встроенных функций, таких как `count()`, `sum()`, `avg()`, `min()`, `max()` и другие.

### Подводя итоги

В этом разделе мы рассмотрели основы языка запросов Cypher, изучив ключевые элементы синтаксиса и примеры простых запросов.  Изучив представленные концепции, вы сможете создавать простые запросы для поиска, создания, обновления и удаления информации в графовой базе данных Neo4j. 

В следующих разделах мы рассмотрим более сложные запросы, включая работу с переменными, использование условий и функций, а также погрузимся в функционал Cypher для работы со сложными графовыми структурами.
