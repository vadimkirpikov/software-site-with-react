## Виджет Autocomplete. Автозаполнение

Виджет Autocomplete в JQuery UI предоставляет пользователю возможность выбора из предварительно определенного списка опций во время ввода текста в поле ввода. Это значительно улучшает пользовательский интерфейс, ускоряет ввод данных и уменьшает количество ошибок.

### Подключение Autocomplete

Для использования Autocomplete необходимо подключить JQuery UI, стили CSS и сам скрипт виджета. Добавьте следующие строки в раздел `<head>` вашего HTML документа:

```html
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.8.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
```

### Базовый пример

Самый простой способ использовать Autocomplete - передать массив строк в метод `.autocomplete()`, который вызывается для нужного поля ввода. 

**HTML:**

```html
<label for="tags">Тэги:</label>
<input id="tags">
```

**JavaScript:**

```javascript
$( function() {
  var availableTags = [
    "JavaScript",
    "HTML",
    "CSS",
    "Python",
    "Java",
    "C++",
    "PHP",
    "Ruby"
  ];
  $( "#tags" ).autocomplete({
    source: availableTags
  });
} );
```

В этом примере, при вводе текста в поле "Тэги", будет появляться выпадающий список с вариантами из массива `availableTags`, соответствующими введенным символам.

### Источник данных (Source)

Опция `source` является обязательной для работы Autocomplete и определяет, откуда будут браться данные для выпадающего списка.  Она может принимать разные типы данных:

**1. Массив:** Как в базовом примере, можно использовать массив строк.

**2. Строка (URL):** Указывает URL адрес, с которого будут загружаться данные в формате JSON.

**Пример:**

```javascript
$( "#tags" ).autocomplete({
  source: "https://example.com/api/tags"
});
```

**3. Функция:** Позволяет динамически генерировать данные для выпадающего списка. Функция принимает два аргумента: `request` (объект с информацией о текущем запросе) и `response` (функция обратного вызова).

**Пример:**

```javascript
$( "#tags" ).autocomplete({
  source: function( request, response ) {
    $.ajax({
      url: "https://example.com/api/search",
      data: {
        q: request.term // Передача введенного текста в запросе
      },
      success: function( data ) {
        response( data ); // Передача полученных данных в Autocomplete
      }
    });
  }
});
```

### Настройка внешнего вида и поведения

Autocomplete предоставляет множество опций для настройки внешнего вида и поведения виджета:

| Опция           | Описание                                                                                           |
|------------------|----------------------------------------------------------------------------------------------------|
| `minLength`      | Минимальное количество символов, которые пользователь должен ввести, прежде чем появится список.   |
| `delay`          | Задержка в миллисекундах между вводом символа и отображением списка.                                |
| `autoFocus`      |  Если `true`, первый элемент списка будет автоматически выбран.                                      |
| `position`       |  Позволяет настроить положение выпадающего списка относительно поля ввода.                           |
| `appendTo`       |  Указывает, к какому элементу DOM будет добавлен выпадающий список.                              |

**Пример:**

```javascript
$( "#tags" ).autocomplete({
  source: availableTags,
  minLength: 2, // Список появится после ввода 2х символов
  delay: 300, // Задержка 300 мс
  autoFocus: true // Первый элемент будет выбран автоматически
});
```

### События

Autocomplete поддерживает ряд событий, которые позволяют реагировать на действия пользователя и изменять поведение виджета:

| Событие         | Описание                                                                                                |
|------------------|----------------------------------------------------------------------------------------------------------|
| `create`         | Срабатывает один раз при создании экземпляра Autocomplete.                                                 |
| `search`        | Срабатывает при каждом изменении текста в поле ввода.                                                   |
| `open`           | Срабатывает при открытии выпадающего списка.                                                             |
| `focus`          | Срабатывает при выборе элемента списка с помощью клавиш со стрелками.                                    |
| `select`         | Срабатывает при выборе элемента списка щелчком мыши или клавишей Enter.                                |
| `close`          | Срабатывает при закрытии выпадающего списка.                                                             |
| `change`         | Срабатывает при изменении значения поля ввода после выбора элемента списка и потери фокуса.           |
| `response`       | Срабатывает после получения данных от источника (source).                                                  |

**Пример:**

```javascript
$( "#tags" ).autocomplete({
  source: availableTags,
  select: function( event, ui ) {
    // Вывод выбранного значения в консоль
    console.log( "Выбранный тэг: " + ui.item.value );
  }
});
```

### Заключение

Виджет Autocomplete - мощный инструмент для улучшения UX/UI вашего веб-приложения. Он прост в использовании, гибок в настройке и позволяет реализовать удобное автозаполнение для различных сценариев. 
