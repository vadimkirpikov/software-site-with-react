## Добавление сестринских элементов

В процессе манипулирования DOM-структурой веб-страницы с помощью jQuery часто возникает необходимость добавления элементов на одном уровне с уже существующими, то есть создания "братьев" и "сестёр" для выбранного элемента. JQuery предоставляет удобные методы для решения этой задачи.

### Методы `insertBefore()` и `insertAfter()`

Два основных метода для добавления сестринских элементов - `insertBefore()` и `insertAfter()`. Они действуют зеркально:

* **`insertBefore()`**: вставляет новый элемент (или группу элементов) **перед** выбранным.
* **`insertAfter()`**: вставляет новый элемент (или группу элементов) **после** выбранного.

Оба метода принимают один аргумент - контент, который необходимо вставить. Это может быть:

* **HTML-строка**: создаст новый элемент из HTML-кода.
* **Селектор**: выберет существующий элемент на странице и переместит его.
* **Объект jQuery**: вставит элементы, содержащиеся в объекте.

**Пример:**

```html
<!DOCTYPE html>
<html>
<head>
  <title>Добавление сестринских элементов</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.8.0/jquery.min.js"></script>
</head>
<body>
  <ul>
    <li>Первый</li>
    <li>Третий</li>
  </ul>

  <script>
    $(document).ready(function() {
      // Добавляем элемент "Второй" перед элементом "Третий"
      $('<li>Второй</li>').insertBefore('li:nth-child(2)'); 

      // Добавляем элемент "Четвертый" после элемента "Третий"
      $('<li>Четвертый</li>').insertAfter('li:nth-child(3)');
    });
  </script>
</body>
</html>
```

В этом примере:

1. Мы выбираем элемент `li` с индексом `2` (третий элемент списка) с помощью селектора `:nth-child(2)`.
2. С помощью `insertBefore()` создаем новый элемент `<li>Второй</li>` и вставляем его перед выбранным элементом.
3. Аналогично, используем `insertAfter()` для добавления `<li>Четвертый</li>` после третьего элемента.

**Важно:**

* Оба метода модифицируют DOM-структуру страницы.
* Если в качестве аргумента передан селектор, выбирающий несколько элементов, новый элемент будет вставлен перед/после каждого из них.

### Альтернативный подход: методы `before()` и `after()`

JQuery предоставляет альтернативные методы для добавления сестринских элементов - `before()` и `after()`.  Они действуют аналогично `insertBefore()` и `insertAfter()`, но фокусируются на элементе, **к которому** добавляются "братья" и "сёстры":

* **`before()`**: вставляет новый элемент (или группу элементов) перед каждым выбранным элементом.
* **`after()`**: вставляет новый элемент (или группу элементов) после каждого выбранного элемента.

**Пример:**

```html
<!DOCTYPE html>
<html>
<head>
  <title>Добавление сестринских элементов</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.8.0/jquery.min.js"></script>
</head>
<body>
  <ul>
    <li class="target">Первый</li>
  </ul>

  <script>
    $(document).ready(function() {
      // Добавляем элементы перед "Первый"
      $('.target').before('<li>Второй</li><li>Третий</li>');

      // Добавляем элемент после "Первый"
      $('.target').after('<li>Четвертый</li>');
    });
  </script>
</body>
</html>
```

В этом примере:

1.  Мы выбираем элемент с классом `target`.
2.  Используем метод `.before()` для добавления двух новых элементов `<li>` перед выбранным элементом.
3.  Используем метод `.after()` для добавления еще одного элемента `<li>` после выбранного элемента.

### Выбор метода

Выбор метода (`insertBefore()`/`insertAfter()` или `before()`/`after()`) зависит от конкретной ситуации и удобства:

*  Если удобнее выделить элемент, **перед/после которого** нужно вставить новый, используйте `insertBefore()`/`insertAfter()`.
*  Если удобнее работать с элементом, **к которому** добавляются "соседи", используйте `before()`/`after()`.

### Заключение

JQuery предоставляет удобные и гибкие методы для добавления "братьев" и "сестер" к выбранным элементам DOM. Выбор конкретного метода зависит от контекста и предпочтений разработчика. 
