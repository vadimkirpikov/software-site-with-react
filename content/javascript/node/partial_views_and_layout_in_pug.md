## Частичные представления и layout в Pug

Pug (ранее Jade) - это высокопроизводительный шаблонизатор, который упрощает создание HTML-кода. Одной из ключевых особенностей Pug являются **частичные представления** и **layout**, которые позволяют создавать модульные и легко масштабируемые веб-страницы.

### Частичные представления

Частичные представления – это небольшие, независимые блоки Pug-кода, которые можно переиспользовать в разных частях приложения. Они помогают избежать дублирования кода и улучшить его организацию.

#### Создание частичного представления

Создайте отдельный файл с расширением `.pug` для каждого частичного представления. 

**Пример:**

```pug
// components/header.pug
header
  nav
    a(href="/") Главная
    a(href="/about") О нас
```

#### Использование `include`

Для включения частичного представления в основной шаблон используйте ключевое слово `include`:

```pug
// views/index.pug
doctype html
html
  head
    title Мое приложение
  body
    include ./components/header.pug

    h1 Добро пожаловать!
```

В этом примере код из файла `header.pug` будет встроен в место вызова `include`.

### Layout

Layout - это базовый шаблон, который определяет общую структуру страницы. Он содержит общие элементы, такие как header, footer и основной контейнер контента.

#### Создание layout

Создайте файл `layout.pug`:

```pug
// views/layout.pug
doctype html
html
  head
    title Мое приложение
  body
    block content 
```

Ключевое слово `block` определяет область, в которую будет вставляться контент из других шаблонов.

#### Использование `extends` и `block`

Чтобы использовать layout,  в основном шаблоне используйте ключевое слово `extends` и определите блоки, объявленные в layout:

```pug
// views/index.pug
extends layout.pug

block content
  include ./components/header.pug
  h1 Добро пожаловать!
```

В этом примере:

- `extends layout.pug` указывает на файл с layout.
- `block content` определяет содержимое блока `content`, объявленного в layout.

### Передача данных в частичные представления

Для передачи данных в частичные представления используйте объект `locals`:

```pug
// views/index.pug
extends layout.pug

block content
  include ./components/header.pug
  +greetUser({ name: 'Иван' })

// components/greetUser.pug
p Привет, #{name}!
```

В этом примере:

- Объект `{ name: 'Иван' }` передается в частичное представление `greetUser.pug`.
- Внутри `greetUser.pug` значение `name` доступно через интерполяцию `#{name}`.

### Итог

Использование частичных представлений и layout в Pug позволяет:

- Разбивать код на модули, улучшая его читаемость и поддерживаемость.
- Избегать дублирования кода, упрощая его изменение и обновление.
- Создавать динамические и гибкие веб-страницы.

Сочетание Pug с Node.js предоставляет мощный инструмент для разработки современных веб-приложений. 
