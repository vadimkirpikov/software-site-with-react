## Введение в Vuex для глобального управления состоянием

В процессе разработки одностраничных приложений на Vue.js, особенно при росте их сложности, возникает необходимость в централизованном управлении состоянием приложения. Компоненты могут начать обмениваться данными напрямую, что усложняет отслеживание изменений и поддержку кода. В этой ситуации на помощь приходит **Vuex** - официальная библиотека для управления состоянием Vue.js приложений.

Vuex предлагает предсказуемый способ хранения и изменения состояния приложения, доступный всем компонентам. Библиотека следует принципам архитектуры **Flux**, что делает ее отличным инструментом для создания масштабируемых и поддерживаемых проектов.

### Ключевые понятия Vuex

- **Store (Хранилище)**: централизованное хранилище данных приложения. Все данные, необходимые компонентам глобально, хранятся здесь.

- **State (Состояние)**: объект, содержащий данные приложения в Vuex store.

- **Getters (Геттеры)**: функции, предоставляющие доступ к состоянию, позволяя извлекать и вычислять данные перед передачей в компоненты.

- **Mutations (Мутации)**: единственный способ изменения состояния Vuex store. Вызываются с помощью `commit`.

- **Actions (Действия)**: функции, содержащие асинхронные операции или сложную логику перед изменением состояния. Вызываются с помощью `dispatch`.

### Подключение Vuex к проекту

Для начала работы необходимо установить Vuex в проект:

```bash
npm install vuex@4 --save
```

Далее, создаем файл `store.js` (или `index.js` внутри папки `store`) в папке `src` и определяем наш Vuex store:

```javascript
// src/store.js
import { createStore } from 'vuex'

export default createStore({
  state: {
    // начальное состояние приложения
    count: 0
  },
  mutations: {
    // мутация для увеличения счетчика
    increment(state) {
      state.count++
    }
  },
  actions: {
    // действие для увеличения счетчика (может содержать асинхронную логику)
    incrementAsync({ commit }) {
      setTimeout(() => {
        commit('increment')
      }, 1000)
    }
  },
  getters: {
    // геттер для получения удвоенного значения счетчика
    doubleCount(state) {
      return state.count * 2
    }
  }
})
```

Наконец, подключаем созданный store к главному файлу приложения:

```javascript
// src/main.js
import { createApp } from 'vue'
import App from './App.vue'
import store from './store'

createApp(App).use(store).mount('#app')
```

### Использование Vuex в компонентах

Теперь, когда Vuex подключен, можно обращаться к состоянию, геттерам, мутациям и действиям из любого компонента:

```vue
<template>
  <div>
    <!-- Отображение состояния -->
    <p>Счетчик: {{ count }}</p>
    <!-- Отображение значения геттера -->
    <p>Удвоенный счетчик: {{ doubleCount }}</p>
    <!-- Вызов мутации по клику -->
    <button @click="increment">Увеличить</button>
    <!-- Вызов действия по клику -->
    <button @click="incrementAsync">Увеличить асинхронно</button>
  </div>
</template>

<script>
import { mapState, mapGetters, mapMutations, mapActions } from 'vuex'

export default {
  computed: {
    // использование mapState для доступа к состоянию
    ...mapState(['count']),
    // использование mapGetters для доступа к геттерам
    ...mapGetters(['doubleCount'])
  },
  methods: {
    // использование mapMutations для вызова мутаций
    ...mapMutations(['increment']),
    // использование mapActions для вызова действий
    ...mapActions(['incrementAsync'])
  }
}
</script>
```

В этом примере мы использовали вспомогательные функции `mapState`, `mapGetters`, `mapMutations` и `mapActions`, предоставляемые Vuex, для упрощения доступа к элементам store в компоненте.

### Заключение

Vuex - мощный инструмент для управления состоянием в приложениях Vue.js. Он позволяет создавать централизованное хранилище данных, доступное всем компонентам, что делает код более организованным, предсказуемым и легким в поддержке. В этой статье мы рассмотрели базовые принципы работы Vuex,  дальнейшие нюансы и возможности библиотеки будут рассмотрены в следующих разделах руководства. 
