## Параметры маршрутов и навигация в Vue.js

Динамические веб-приложения часто требуют отображения различного контента в зависимости от URL-адреса. Vue.js, в сочетании с библиотекой маршрутизации Vue Router, предоставляет удобные инструменты для реализации такой функциональности.

### Основы маршрутизации

Vue Router позволяет сопоставлять компоненты Vue с определенными URL-адресами. Это позволяет создавать одностраничные приложения (SPA), где навигация происходит без перезагрузки страницы.

#### Установка Vue Router

Для начала, установите Vue Router в ваш проект:

```bash
npm install vue-router@4
```

#### Создание маршрутов

Создайте файл `router/index.js` и определите маршруты:

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import HomeView from '../views/HomeView.vue'
import AboutView from '../views/AboutView.vue'

const routes = [
  {
    path: '/',
    name: 'home',
    component: HomeView
  },
  {
    path: '/about',
    name: 'about',
    component: AboutView
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

В этом примере определены два маршрута: `/` для компонента `HomeView` и `/about` для компонента `AboutView`.

#### Подключение маршрутизатора

Подключите маршрутизатор в вашем главном файле `main.js`:

```javascript
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

const app = createApp(App)

app.use(router)

app.mount('#app')
```

#### Отображение компонентов маршрутов

Для отображения компонентов, связанных с маршрутами, используйте компонент `<router-view>` в вашем главном компоненте `App.vue`:

```vue
<template>
  <router-view />
</template>
```

Теперь, при переходе на `/` будет отображаться компонент `HomeView`, а при переходе на `/about` - компонент `AboutView`.

### Параметры маршрутов

Vue Router позволяет определять параметры маршрутов, что делает URL-адреса более информативными и позволяет передавать данные между компонентами.

#### Динамические сегменты

Динамические сегменты в URL-адресах обозначаются двоеточием `:`. Например, маршрут `/user/:id` будет соответствовать любому URL-адресу, начинающемуся с `/user/`, за которым следует любой идентификатор.

```javascript
// router/index.js
{
  path: '/user/:id',
  name: 'user',
  component: UserView
}
```

#### Доступ к параметрам маршрута

Внутри компонента, связанного с маршрутом, доступ к параметрам можно получить с помощью объекта `$route`:

```vue
<template>
  <div>User ID: {{ $route.params.id }}</div>
</template>
```

#### Именованные маршруты

Для удобства навигации можно давать маршрутам имена. Это позволяет использовать имена вместо путей при создании ссылок.

```javascript
// router/index.js
{
  path: '/user/:id',
  name: 'user', // имя маршрута
  component: UserView
}
```

#### Навигация с помощью именованных маршрутов

Для навигации с помощью именованных маршрутов используйте метод `router.push()` с объектом, содержащим имя маршрута и параметры:

```vue
<template>
  <router-link :to="{ name: 'user', params: { id: 123 }}">User 123</router-link>
</template>
```

### Дополнительные возможности

Vue Router предоставляет множество дополнительных возможностей, таких как:

* **Перенаправления:** автоматическое перенаправление пользователя на другой маршрут.
* **Вложенные маршруты:** создание иерархии маршрутов для организации сложных приложений.
* **Охрана маршрутов:** ограничение доступа к определенным маршрутам.
* **Программная навигация:** изменение маршрута с помощью JavaScript-кода.

#### Пример использования перенаправлений

```javascript
// router/index.js
{
  path: '/login',
  component: LoginView
},
{
  path: '/admin',
  component: AdminView,
  beforeEnter: (to, from, next) => {
    // Проверка авторизации
    if (localStorage.getItem('token')) {
      next()
    } else {
      next({ name: 'login' })
    }
  }
}
```

В этом примере маршрут `/admin` защищен. При попытке доступа к нему проверяется наличие токена авторизации. Если токен есть, пользователь перенаправляется на страницу администратора, в противном случае - на страницу входа.

### Заключение

Vue Router - мощный инструмент для создания одностраничных приложений с удобной навигацией. Использование параметров маршрутов и других возможностей Vue Router позволяет создавать динамические и интерактивные веб-приложения. 
