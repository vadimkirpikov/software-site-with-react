## Оператор ?. в JavaScript

Оператор `?.` (оператор опциональной последовательности) - это мощный инструмент в JavaScript, который позволяет безопасно получать доступ к свойствам и методам объекта, не беспокоясь о том, существует ли сам объект или его промежуточные свойства. 

До появления оператора `?.` разработчики часто сталкивались с ошибками "TypeError: Cannot read property ... of undefined" при попытке доступа к свойству несуществующего объекта. Это приводило к необходимости многократно проверять существование объекта и его свойств, что делало код громоздким и менее читаемым.

### Решение проблемы с помощью ?.

Оператор `?.` решает эту проблему, предоставляя краткий и элегантный способ доступа к свойствам объекта, который не вызовет ошибку, если объект или его свойство не определены. Вместо этого, оператор `?.` просто вернет `undefined`.

Рассмотрим пример:

```javascript
const user = {
  name: "John",
  // Предположим, свойство address отсутствует
};

// Попытка доступа к несуществующему свойству вызовет ошибку
console.log(user.address.street); // TypeError: Cannot read property 'street' of undefined

// С помощью ?. мы можем избежать ошибки
console.log(user.address?.street); // undefined
```

В этом примере мы пытаемся получить доступ к свойству `street` объекта `address`, который не определен. При использовании обычной точечной нотации это приведет к ошибке. Однако, используя оператор `?.`, мы безопасно получаем `undefined`, так как JavaScript не пытается получить доступ к свойству `street` несуществующего объекта.

### Применение оператора ?.

Оператор `?.` может использоваться для доступа к:

* **Свойствам объекта**:

```javascript
const data = {
  value: {
    nestedValue: 42,
  },
};

console.log(data.value?.nestedValue); // 42
console.log(data.nonexistentValue?.nestedValue); // undefined
```

* **Методам объекта**:

```javascript
const user = {
  name: "Jane",
  sayHi() {
    console.log(`Привет, ${this.name}!`);
  },
};

user.sayHi?.(); // Привет, Jane!

const anotherUser = {};
anotherUser.sayHi?.(); // Ничего не выводится, так как метод sayHi не определен
```

* **Элементам массива**:

```javascript
const numbers = [1, 2, 3];

console.log(numbers[0]?.toFixed(2)); // 1.00
console.log(numbers[5]?.toFixed(2)); // undefined, так как элемента с индексом 5 не существует
```

### Отличие от оператора ||

Важно понимать разницу между оператором `?.` и оператором `||`. Оператор `||` возвращает первое истинное значение. 

```javascript
const value1 = undefined;
const value2 = "Hello";

console.log(value1 || value2); // "Hello"
```

В то время как оператор `?.` проверяет именно на `null` или `undefined`. 

```javascript
const obj1 = { value: "" };
const obj2 = null;

console.log(obj1.value?.length || "Значение пустое"); // "Значение пустое"
console.log(obj2?.value || "Объект не существует"); // "Объект не существует" 
```

### Вывод

Оператор опциональной последовательности `?.` - это мощный инструмент, который делает код JavaScript более безопасным, читаемым и лаконичным. Он позволяет избежать ошибок, связанных с доступом к несуществующим свойствам, и упрощает обработку ситуаций, когда данные могут быть неполными. 
