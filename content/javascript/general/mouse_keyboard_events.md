## События мыши и клавиатуры

JavaScript позволяет создавать интерактивные веб-страницы, реагирующие на действия пользователя. Ключевую роль в этом играют события – уведомления о том, что что-то произошло в браузере или на странице.  В этом разделе мы рассмотрим события, связанные с действиями пользователя с помощью мыши и клавиатуры.

### События мыши

События мыши возникают при взаимодействии пользователя с веб-страницей с помощью мыши (или тачпада). Вот некоторые из наиболее часто используемых событий мыши:

| Событие | Описание |
|---|---|
| click | Возникает при клике левой кнопкой мыши на элементе. |
| dblclick |  Возникает при двойном клике левой кнопкой мыши на элементе. |
| mousedown | Возникает, когда кнопка мыши нажата над элементом. |
| mouseup | Возникает, когда кнопка мыши отпущена над элементом. |
| mouseover | Возникает, когда указатель мыши оказывается над элементом. |
| mouseout |  Возникает, когда указатель мыши покидает пределы элемента. |
| mousemove | Возникает при каждом движении указателя мыши над элементом. |
| contextmenu | Возникает при вызове контекстного меню (обычно правым кликом мыши). |

#### Обработка событий мыши

Чтобы веб-страница реагировала на событие мыши, необходимо связать обработчик события с элементом HTML. Обработчик события – это функция JavaScript, которая выполняется при возникновении события.

Существует несколько способов привязать обработчик события:

**1. Внутри HTML-тега:**

```html
<button onclick="alert('Кнопка нажата!')">Нажмите меня</button>
```

В этом примере обработчик события `onclick` определен непосредственно в HTML-теге кнопки. При клике на кнопке будет выполнен код JavaScript, указанный в атрибуте `onclick`, – в данном случае вызов функции `alert()`, которая отобразит сообщение на экране.

**2. С использованием свойства объекта DOM:**

```html
<button id="myButton">Нажмите меня</button>
<script>
  const button = document.getElementById('myButton');
  button.onclick = function() {
    alert('Кнопка нажата!');
  };
</script>
```

В этом случае мы сначала получаем ссылку на кнопку с помощью `document.getElementById()`, а затем присваиваем свойству `onclick` этой кнопки функцию-обработчик.

**3. С помощью метода `addEventListener()`:**

```html
<button id="myButton">Нажмите меня</button>
<script>
  const button = document.getElementById('myButton');
  button.addEventListener('click', function() {
    alert('Кнопка нажата!');
  });
</script>
```

Метод `addEventListener()` позволяет привязать несколько обработчиков к одному и тому же событию, что бывает полезно в некоторых ситуациях.

####  Пример: изменение цвета фона при наведении курсора

Создадим простой пример, демонстрирующий обработку события `mouseover`:

```html
<!DOCTYPE html>
<html>
<head>
  <title>Пример обработки события мыши</title>
</head>
<body>
  <div id="myDiv" style="width: 100px; height: 100px; background-color: red;"></div>
  <script>
    const myDiv = document.getElementById('myDiv');
    myDiv.addEventListener('mouseover', function() {
      myDiv.style.backgroundColor = 'blue'; 
    });
    myDiv.addEventListener('mouseout', function() {
      myDiv.style.backgroundColor = 'red';
    });
  </script>
</body>
</html>
```

В этом примере мы создаем красный квадрат. При наведении курсора мыши на квадрат его цвет изменится на синий, а при убирании курсора – обратно на красный.

### События клавиатуры

События клавиатуры возникают при взаимодействии пользователя с клавиатурой, когда фокус находится на странице.  Основные события клавиатуры:

| Событие | Описание |
|---|---|
| keydown | Возникает при нажатии любой клавиши. |
| keyup | Возникает при отпускании любой клавиши. |
| keypress |  Возникает при нажатии клавиши, которая выводит печатный символ (например, букву, цифру, знак). |

#### Обработка событий клавиатуры

Обработка событий клавиатуры осуществляется аналогично обработке событий мыши. 

####  Пример: управление движением элемента

Рассмотрим пример, где мы будем управлять движением квадрата с помощью стрелок на клавиатуре:

```html
<!DOCTYPE html>
<html>
<head>
  <title>Пример обработки событий клавиатуры</title>
  <style>
    #square {
      width: 50px;
      height: 50px;
      background-color: green;
      position: absolute;
      top: 50px;
      left: 50px;
    }
  </style>
</head>
<body>
  <div id="square"></div>
  <script>
    const square = document.getElementById('square');
    let x = 50;
    let y = 50;

    document.addEventListener('keydown', function(event) {
      switch (event.key) {
        case 'ArrowUp':
          y -= 10;
          break;
        case 'ArrowDown':
          y += 10;
          break;
        case 'ArrowLeft':
          x -= 10;
          break;
        case 'ArrowRight':
          x += 10;
          break;
      }
      square.style.top = y + 'px';
      square.style.left = x + 'px';
    });
  </script>
</body>
</html>
```

В этом примере мы создаем зеленый квадрат. При нажатии на стрелки клавиатуры квадрат будет перемещаться по странице.

### Объект события

При возникновении события JavaScript создает объект Event, содержащий информацию о событии. Этот объект передается в функцию-обработчик в качестве аргумента. 

Объект Event содержит множество свойств, предоставляющих информацию о произошедшем событии. Некоторые из наиболее полезных свойств:

* `type`: Тип события (например, `click`, `mouseover`, `keydown`).
* `target`: Элемент, на котором произошло событие.
* `clientX`, `clientY`: Координаты курсора мыши по горизонтали и вертикали относительно окна браузера.
* `keyCode`: Код нажатой клавиши (для событий клавиатуры).

#### Пример: вывод информации о событии

Изменим предыдущий пример, добавив вывод информации о событии в консоль:

```javascript
document.addEventListener('keydown', function(event) {
  console.log('Тип события:', event.type);
  console.log('Нажатая клавиша:', event.key);

  switch (event.key) {
    // ... код для перемещения квадрата
  }
});
```

Теперь при нажатии на клавишу в консоли браузера будет выводиться информация о типе события и нажатой клавише.

### Заключение

В этом разделе мы рассмотрели основы работы с событиями мыши и клавиатуры в JavaScript. Умение обрабатывать события – ключевой навык для создания интерактивных веб-приложений. В следующих разделах мы подробнее рассмотрим различные типы событий и научимся создавать более сложные и интересные интерактивные элементы.
