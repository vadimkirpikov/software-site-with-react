## Инкапсуляция свойств. Геттеры и сеттеры

В JavaScript, объекты хранят данные в виде пар "ключ-значение". Эти ключи, представляющие собой имена свойств, могут быть доступны напрямую, что иногда нарушает принцип инкапсуляции - один из основных принципов объектно-ориентированного программирования (ООП).

###  Что такое инкапсуляция?

Инкапсуляция предполагает скрытие внутренней реализации объекта от внешнего мира и предоставление контролируемого доступа к его данным через определенный интерфейс. 

Представьте объект как капсулу, внутри которой находятся данные и методы. Инкапсуляция подобна оболочке этой капсулы, которая защищает внутренности от нежелательного вмешательства. Доступ к данным осуществляется только через специально определенные "отверстия" - методы объекта.

### Зачем нужна инкапсуляция?

* **Безопасность данных:** Инкапсуляция помогает предотвратить случайное или несанкционированное изменение данных объекта.
* **Упрощение кода:** Скрытие внутренней реализации объекта позволяет изменять ее без необходимости корректировки кода, который использует этот объект.
* **Повышение гибкости:** Инкапсуляция позволяет легче модифицировать и расширять код в будущем.

### Геттеры и сеттеры: контролируемый доступ к свойствам

JavaScript предоставляет механизмы для реализации инкапсуляции: **геттеры** и **сеттеры**. 

* **Геттер** - это функция, которая вызывается при чтении значения свойства.
* **Сеттер** - это функция, которая вызывается при попытке записи значения в свойство.

Используя геттеры и сеттеры, мы можем:

* **Валидировать данные:** Проверять корректность данных перед их записью в свойство.
* **Вычислять значения "на лету":** Возвращать значения, которые вычисляются динамически, вместо хранения их в памяти.
* **Реализовать логику при чтении/записи свойств:** Выполнять дополнительные действия при доступе к свойствам.

### Синтаксис геттеров и сеттеров

Для определения геттера и сеттера используется ключевое слово `get` и `set` соответственно перед именем метода. 

```javascript
class Rectangle {
  constructor(width, height) {
    this._width = width; // "_" - соглашение об именовании "приватных" свойств
    this._height = height;
  }

  // Геттер для свойства width
  get width() {
    return this._width;
  }

  // Сеттер для свойства width
  set width(value) {
    if (value <= 0) {
      throw new Error("Ширина должна быть положительным числом");
    }
    this._width = value;
  }

  // Геттер для свойства height
  get height() {
    return this._height;
  }

  // Сеттер для свойства height
  set height(value) {
    if (value <= 0) {
      throw new Error("Высота должна быть положительным числом");
    }
    this._height = value;
  }

  // Метод для расчета площади
  getArea() {
    return this._width * this._height;
  }
}
```

В данном примере:

* `_width` и `_height` -  свойства, хранящие ширину и высоту прямоугольника. 
* `width` и `height` -  геттеры и сеттеры для доступа к этим свойствам.
* Сеттеры `width` and `height` проверяют, что присваиваемое значение - положительное число. В противном случае генерируется ошибка.

### Пример использования:

```javascript
const myRectangle = new Rectangle(10, 5);

console.log(myRectangle.width); // 10 - вызов геттера width
console.log(myRectangle.height); // 5 - вызов геттера height

myRectangle.width = 20; // вызов сеттера width
console.log(myRectangle.width); // 20

try {
  myRectangle.width = -5; // Вызовет ошибку, так как ширина не может быть отрицательной
} catch (error) {
  console.error(error.message); 
}

console.log(myRectangle.getArea()); // 100 - расчет площади
```

### Заключение

Геттеры и сеттеры являются мощным инструментом для реализации инкапсуляции в JavaScript, повышая безопасность и удобство работы с данными объекта. Используя их, можно создавать более надежный, гибкий и удобный в поддержке код.
