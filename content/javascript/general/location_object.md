## Объект location

В JavaScript объект `location` предоставляет информацию о текущем URL-адресе и позволяет взаимодействовать с ним. Этот объект является свойством объекта `window`, а значит, к нему можно обращаться как напрямую (`location`), так и через `window.location`.

### Свойства объекта location

Объект `location` содержит ряд свойств, которые позволяют получить информацию о различных частях URL-адреса:

| Свойство | Описание |
|---|---|
| `href` | Полный URL-адрес текущей страницы. |
| `protocol` | Протокол, используемый для доступа к странице (например, "http:" или "https:"). |
| `host` | Имя хоста и порт (если он есть), например, "www.example.com:8080". |
| `hostname` | Имя хоста без порта, например, "www.example.com". |
| `port` | Номер порта, используемый для доступа к странице (например, "8080"). |
| `pathname` | Путь к ресурсу на сервере, например, "/pages/index.html". |
| `search` | Строка запроса URL-адреса, начиная со знака вопроса (?), например, "?id=123&category=news". |
| `hash` | Фрагмент URL-адреса, начиная со знака решетки (#), например, "#section2". |

### Получение информации о URL-адресе

Получить доступ к свойствам объекта `location` можно напрямую, используя точечную нотацию:

```javascript
// Получаем полный URL-адрес
const currentURL = location.href;
console.log(currentURL); // Выведет полный URL текущей страницы

// Получаем протокол
const protocol = location.protocol;
console.log(protocol); // Выведет "http:" или "https:"

// Получаем имя хоста
const host = location.hostname;
console.log(host); // Выведет имя хоста текущей страницы

// Получаем строку запроса
const query = location.search;
console.log(query); // Выведет строку запроса, если она есть
```

### Изменение URL-адреса

Помимо получения информации, объект `location` позволяет изменять текущий URL-адрес и выполнять перенаправления. Для этого используются следующие методы:

| Метод | Описание |
|---|---|
| `assign(URL)` | Загружает новый документ по указанному URL-адресу. |
| `replace(URL)` | Заменяет текущий документ новым, загруженным по указанному URL-адресу. При этом текущая страница не сохраняется в истории браузера. |
| `reload()` | Перезагружает текущую страницу. |

**Примеры:**

```javascript
// Перенаправление на другой сайт
location.assign("https://google.com");

// Замена текущей страницы на другую без сохранения в истории
location.replace("https://wikipedia.org");

// Перезагрузка страницы
location.reload();
```

**Важно:** Методы `assign()` и `replace()` принимают полный URL-адрес. 

### Работа со строкой запроса

Строка запроса URL-адреса (значение свойства `location.search`) часто используется для передачи данных между страницами или для настройки отображения текущей страницы. JavaScript предоставляет средства для удобной работы с параметрами строки запроса.

**Получение параметров:**

```javascript
function getQueryParams() {
  const params = {};
  const query = location.search.substring(1); // Удаляем знак вопроса

  if (query) {
    const pairs = query.split("&");
    for (let i = 0; i < pairs.length; i++) {
      const pair = pairs[i].split("=");
      params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
    }
  }

  return params;
}

// Пример использования:
const queryParams = getQueryParams();
console.log(queryParams); // Выведет объект с параметрами строки запроса

// Получение значения конкретного параметра
const userId = queryParams.id;
console.log(userId); // Выведет значение параметра "id"
```

**Добавление и изменение параметров:**

```javascript
function updateQueryStringParameter(key, value) {
  const searchParams = new URLSearchParams(location.search);
  searchParams.set(key, value);
  location.search = searchParams.toString();
}

// Пример использования:
updateQueryStringParameter("page", "2"); // Добавляет или обновляет параметр "page"
```

### Работа с фрагментом URL

Фрагмент URL-адреса (значение свойства `location.hash`) используется для создания внутренних ссылок на определенные разделы страницы. 

**Установка фрагмента:**

```javascript
location.hash = "section2"; // Устанавливает фрагмент как "#section2"
```

**Получение фрагмента:**

```javascript
const sectionId = location.hash.substring(1); // Удаляем знак решетки
console.log(sectionId); // Выведет "section2"
```

**Важно:** Изменение фрагмента URL не вызывает перезагрузку страницы, а лишь перемещает пользователя к нужному разделу. 

### Заключение

Объект `location` предоставляет мощный инструмент для работы с URL-адресом в JavaScript. Он позволяет получать информацию о текущем URL, перенаправлять пользователя на другие страницы, а также управлять параметрами строки запроса и фрагментом URL. Используя возможности объекта `location`, вы можете создавать динамические веб-приложения с удобной навигацией и обработкой данных. 
