## Очереди и класс ArrayDeque

В Java, очередь (queue) - это структура данных, которая хранит элементы в порядке FIFO (First-In, First-Out), то есть «первым пришел - первым вышел». Представьте очередь в магазине: первым обслуживается покупатель, который пришел раньше всех. 

Java предоставляет интерфейс `Queue<E>` для работы с очередями. Одним из наиболее популярных классов, реализующих этот интерфейс, является `ArrayDeque<E>`.

### Класс ArrayDeque

`ArrayDeque` (сокращение от "Array Double Ended Queue") представляет собой реализацию очереди на основе динамического массива. Он позволяет эффективно добавлять и удалять элементы как с начала, так и с конца очереди. 

Вот некоторые из ключевых особенностей `ArrayDeque`:

* **Динамический размер:** `ArrayDeque` автоматически увеличивает свой размер при необходимости, поэтому вам не нужно указывать начальную емкость.
* **Эффективность:** Большинство операций, таких как добавление и удаление элементов с обоих концов, выполняются за константное время (O(1)).
* **Двусторонняя:**  `ArrayDeque` может использоваться как очередь (FIFO) или как стек (LIFO - Last-In, First-Out) благодаря наличию методов для работы с обоими концами. 

### Создание объекта ArrayDeque

Чтобы создать объект `ArrayDeque`, используйте следующий синтаксис:

```java
ArrayDeque<Тип_элемента> имя_очереди = new ArrayDeque<>();
```

Например, чтобы создать очередь строк:

```java
ArrayDeque<String> cities = new ArrayDeque<>();
```

### Основные операции

| Метод                      | Описание                                       | Исключение     |
| ---------------------------- | --------------------------------------------- | -------------- |
| `add(E e)`                  | Добавляет элемент в конец очереди            | `IllegalStateException` (если очередь заполнена)  |
| `offer(E e)`                | Добавляет элемент в конец очереди (возвращает `boolean`) | -              |
| `remove()`                   | Удаляет и возвращает элемент из начала очереди | `NoSuchElementException` (если очередь пуста) |
| `poll()`                    | Удаляет и возвращает элемент из начала очереди (или `null`) | -              |
| `element()`                 | Возвращает первый элемент без удаления       | `NoSuchElementException` (если очередь пуста) |
| `peek()`                    | Возвращает первый элемент без удаления (или `null`) | -              |

**Пример использования:**

```java
import java.util.ArrayDeque;

public class ArrayDequeExample {
    public static void main(String[] args) {
        // Создаем очередь строк
        ArrayDeque<String> cities = new ArrayDeque<>();

        // Добавляем элементы в очередь
        cities.add("Москва");
        cities.offer("Санкт-Петербург");
        cities.add("Новосибирск");

        // Выводим размер очереди
        System.out.println("Размер очереди: " + cities.size()); // Вывод: 3

        // Получаем первый элемент без удаления
        System.out.println("Первый элемент: " + cities.peek()); // Вывод: Москва

        // Удаляем и выводим элементы из очереди
        while (!cities.isEmpty()) {
            System.out.println(cities.poll());
        }
        // Вывод:
        // Москва
        // Санкт-Петербург
        // Новосибирск
    }
}
```

### Использование ArrayDeque как стека

Как упоминалось ранее, `ArrayDeque` может использоваться как стек. Для этого используются методы `push()`, `pop()` и `peek()`:

* `push(E e)`: Добавляет элемент на вершину стека.
* `pop()`: Удаляет и возвращает элемент с вершины стека.
* `peek()`: Возвращает элемент с вершины стека без удаления.

**Пример использования:**

```java
import java.util.ArrayDeque;

public class ArrayDequeAsStack {
    public static void main(String[] args) {
        // Создаем стек чисел
        ArrayDeque<Integer> stack = new ArrayDeque<>();

        // Добавляем элементы в стек
        stack.push(10);
        stack.push(20);
        stack.push(30);

        // Выводим размер стека
        System.out.println("Размер стека: " + stack.size()); // Вывод: 3

        // Извлекаем и выводим элементы из стека
        while (!stack.isEmpty()) {
            System.out.println(stack.pop());
        }
        // Вывод:
        // 30
        // 20
        // 10
    }
}
```

### Итерация по ArrayDeque

Для перебора элементов `ArrayDeque` можно использовать цикл `for-each`:

```java
for (String city : cities) {
    System.out.println(city);
}
```

### Заключение

`ArrayDeque` - это мощная и гибкая структура данных, которая может быть использована для реализации очередей и стеков. Её эффективность и простота использования делают ее отличным выбором для многих задач программирования. 
