## Форматируемый вывод: PrintStream и PrintWriter

В Java существует несколько способов вывода информации в консоль или файлы. Два наиболее распространенных класса для этой цели - `PrintStream` и `PrintWriter`. Оба предоставляют методы для форматированного и неформатированного вывода, но имеют некоторые ключевые отличия.

### PrintStream

Класс `PrintStream` предназначен primarily для вывода информации в байтовый поток. Это означает, что данные преобразуются в байты перед записью. `PrintStream` удобен для вывода текста, но может быть менее эффективным для двоичных данных.

#### Методы класса PrintStream

`PrintStream` предоставляет множество методов для вывода различных типов данных:

* `print(тип_данных значение)`: выводит значение указанного типа без перевода строки.
* `println(тип_данных значение)`: выводит значение указанного типа с переводом строки.
* `printf(String формат, Object... args)`: форматированный вывод, аналогичный функции `printf` языка C.
* `format(String формат, Object... args)`: аналогичен `printf`.

#### Пример использования PrintStream

```java
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.PrintStream;

public class PrintStreamExample {
    public static void main(String[] args) {
        try (PrintStream out = new PrintStream(new FileOutputStream("output.txt"))) {
            out.println("Пример вывода в файл.");
            out.printf("Форматированный вывод: число = %d, строка = %s", 10, "Hello");
        } catch (IOException e) {
            System.err.println("Ошибка при работе с файлом: " + e.getMessage());
        }
    }
}
```

В этом примере создается объект `PrintStream`, связанный с файлом "output.txt". Затем в файл выводятся строка и форматированная строка с использованием `println` и `printf` соответственно.

### PrintWriter

Класс `PrintWriter` предназначен для вывода информации в символьный поток. Это означает, что данные обрабатываются как символы Unicode, что делает его более подходящим для интернационализированных приложений. 

#### Методы класса PrintWriter

`PrintWriter` предоставляет методы, аналогичные `PrintStream`:

* `print(тип_данных значение)`: выводит значение указанного типа без перевода строки.
* `println(тип_данных значение)`: выводит значение указанного типа с переводом строки.
* `printf(String формат, Object... args)`: форматированный вывод.
* `format(String формат, Object... args)`: аналогичен `printf`.

#### Пример использования PrintWriter

```java
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

public class PrintWriterExample {
    public static void main(String[] args) {
        try (PrintWriter writer = new PrintWriter(new FileWriter("output.txt"))) {
            writer.println("Пример вывода с помощью PrintWriter.");
            writer.format("Число = %d, строка = %s%n", 15, "World");
        } catch (IOException e) {
            System.err.println("Ошибка при работе с файлом: " + e.getMessage());
        }
    }
}
```

В этом примере создается объект `PrintWriter`, связанный с файлом "output.txt". Затем в файл выводятся строка и форматированная строка с использованием `println` и `format` соответственно.

### Отличия PrintStream и PrintWriter

| Особенность        | PrintStream                                         | PrintWriter                                          |
|---------------------|------------------------------------------------------|-------------------------------------------------------|
| Тип потока          | Байтовый                                              | Символьный                                             |
| Обработка ошибок   | Не выбрасывает исключения, использует флаги ошибок | Выбрасывает исключения `IOException`                |
| Автоматическая очистка буфера | Можно включить с помощью `autoFlush`                 | Всегда выполняется при вызове `println`            |

### Выбор между PrintStream и PrintWriter

* Используйте `PrintStream` для вывода в байтовые потоки, например, при работе с сетью или при необходимости вывода двоичных данных.
* Используйте `PrintWriter` для вывода в символьные потоки, например, при работе с файлами или консолью, особенно в интернационализированных приложениях.

### Форматированный вывод

`printf` и `format` предоставляют мощный механизм форматированного вывода. Формат строки задается с использованием спецификаторов формата, которые начинаются с символа `%`.

#### Спецификаторы формата

| Спецификатор | Описание                                               |
|---------------|------------------------------------------------------------|
| `%d`          | Десятичное целое число                                    |
| `%f`          | Число с плавающей точкой                                  |
| `%s`          | Строка                                                 |
| `%n`          | Перевод строки, зависящий от платформы                 |

#### Пример форматированного вывода

```java
int number = 42;
double pi = 3.14159;
String message = "Привет!";

System.out.printf("Число: %d%n", number);
System.out.printf("PI: %.2f%n", pi);
System.out.printf("Сообщение: %s%n", message);
```

Этот код выведет:

```
Число: 42
PI: 3.14
Сообщение: Привет!
```

### Заключение

`PrintStream` и `PrintWriter` являются важными классами для вывода информации в Java. Понимание их отличий и возможностей форматированного вывода позволит вам эффективно работать с выводом данных в ваших приложениях. 
