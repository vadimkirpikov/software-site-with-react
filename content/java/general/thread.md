## Класс Thread в Java

Класс `Thread` является ключевым инструментом в Java для работы с многопоточностью. Он представляет собой отдельный поток выполнения within процесса Java. Каждый поток обладает собственным стеком вызовов и выполняет свой участок кода независимо от других потоков.

### Создание потоков

Существует два основных способа создания потоков в Java:

1. **Наследование от класса `Thread`:**

    * Создайте класс, наследующий от класса `Thread`.
    * Переопределите метод `run()`, который будет содержать код, выполняемый в новом потоке.
    * Создайте экземпляр вашего класса и вызовите метод `start()`, чтобы запустить поток.

    ```java
    public class MyThread extends Thread {
        @Override
        public void run() {
            System.out.println("Привет из потока: " + Thread.currentThread().getName());
        }
    }

    public class Main {
        public static void main(String[] args) {
            MyThread thread = new MyThread();
            thread.start(); 
        }
    }
    ```

2. **Реализация интерфейса `Runnable`:**

    * Создайте класс, реализующий интерфейс `Runnable`.
    * Реализуйте метод `run()`, который будет содержать код, выполняемый в новом потоке.
    * Создайте экземпляр класса `Thread`, передав в конструктор экземпляр вашего класса, реализующего `Runnable`.
    * Вызовите метод `start()` у созданного объекта `Thread`, чтобы запустить поток.

    ```java
    public class MyRunnable implements Runnable {
        @Override
        public void run() {
            System.out.println("Привет из потока: " + Thread.currentThread().getName());
        }
    }

    public class Main {
        public static void main(String[] args) {
            MyRunnable runnable = new MyRunnable();
            Thread thread = new Thread(runnable); 
            thread.start(); 
        }
    }
    ```

Выбор между наследованием от `Thread` и реализацией `Runnable` зависит от конкретной ситуации. Наследование от `Thread`  подходит, если необходимо расширить функциональность класса `Thread`, в то время как реализация `Runnable` предпочтительнее, если требуется избежать наследования и/или использовать один и тот же объект `Runnable` в нескольких потоках.

### Управление потоками

Класс `Thread` предоставляет ряд методов для управления потоками:

* **`start()`**: Запускает новый поток, вызывая его метод `run()`.
* **`run()`**: Содержит код, выполняемый в потоке.
* **`sleep(long millis)`**: Приостанавливает выполнение текущего потока на указанное количество миллисекунд.
* **`join()`**: Ожидает завершения выполнения потока, на котором был вызван метод.
* **`interrupt()`**: Посылает потоку запрос на прерывание.
* **`isInterrupted()`**: Возвращает `true`, если поток был прерван, и `false` в противном случае.
* **`isAlive()`**: Возвращает `true`, если поток запущен и не завершен, и `false` в противном случае.
* **`currentThread()`**: Возвращает ссылку на текущий поток.
* **`getName()`**: Возвращает имя потока.
* **`setName(String name)`**: Устанавливает имя потока.
* **`getPriority()`**: Возвращает приоритет потока.
* **`setPriority(int priority)`**: Устанавливает приоритет потока (значения от 1 до 10).

### Синхронизация потоков

При работе с многопоточностью важно учитывать возможность возникновения  состояний гонки (race conditions), когда несколько потоков пытаются одновременно получить доступ к общим ресурсам. Для предотвращения подобных ситуаций используются механизмы синхронизации.

#### Ключевое слово `synchronized`

Ключевое слово `synchronized` позволяет синхронизировать доступ к блокам кода или методам. 

* **Синхронизированный блок:**

    ```java
    public class Counter {
        private int count = 0;

        public synchronized void increment() {
            count++;
        }
    }
    ```

* **Синхронизированный метод:**

    ```java
    public class Counter {
        private int count = 0;

        public synchronized void increment() {
            count++;
        }
    }
    ```

В обоих случаях доступ к методу `increment()` будет синхронизирован, что предотвратит одновременное изменение переменной `count` из разных потоков.

#### Классы `wait()` и `notify()`

Методы `wait()` и `notify()` используются для координации работы потоков. 

* **`wait()`**: Приостанавливает выполнение текущего потока до тех пор, пока другой поток не вызовет метод `notify()` или `notifyAll()` для этого объекта.
* **`notify()`**: Пробуждает один из потоков, ожидающих на этом объекте.
* **`notifyAll()`**: Пробуждает все потоки, ожидающие на этом объекте.

## Заключение

Класс `Thread` является основой для работы с многопоточностью в Java. Понимание принципов работы с потоками, механизмов синхронизации и основных методов класса `Thread` позволит создавать эффективные и безопасные многопоточные приложения. 
