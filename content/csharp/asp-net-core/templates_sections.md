## Шаблоны и секции в ASP.NET Core 8.0

В ASP.NET Core Razor Pages и MVC  шаблоны и секции играют важную роль в создании многократно используемых компонентов пользовательского интерфейса, позволяя создавать структурированные и удобные в обслуживании приложения.

### Шаблоны представлений

Шаблон представления — это базовый файл разметки, содержащий общую структуру для нескольких страниц или представлений. Он определяет основные элементы HTML, стили, скрипты и области содержимого, которые могут быть переопределены дочерними представлениями.

#### Создание шаблона представления

1. В папке **Shared** проекта ASP.NET Core создайте новую папку **_Layout.cshtml**.
2. Внутри папки создайте новый файл **_Layout.cshtml**.
3. Вставьте следующий код в файл **_Layout.cshtml**:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Мое приложение</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>
<body>
    <header>
        <nav>
            <!--  Навигация -->
        </nav>
    </header>
    <main role="main">
        @RenderBody() 
    </main>
    <footer>
        <!-- Подвал -->
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false) 
</body>
</html>
```

#### Объяснение кода:

* `@ViewData["Title"]`: Отображает значение, переданное в свойство `ViewData["Title"]`.
* `asp-append-version="true"`: Автоматически добавляет версию файла к URL-адресу, предотвращая проблемы с кешированием.
* `@RenderBody()`: Заполнитель для основного содержимого страницы, которое будет загружено из дочернего представления.
* `@await RenderSectionAsync("Scripts", required: false)`: Заполнитель для необязательной секции "Scripts", которая может быть определена в дочернем представлении.

### Использование шаблона представления

Чтобы использовать созданный шаблон, Razor Pages автоматически используют шаблон по умолчанию, а для MVC нужно выполнить следующие действия:

1. Создайте новое представление или откройте существующее.
2. Добавьте директиву `@layout` в начало файла представления, указав путь к файлу шаблона:

```html
@layout "~/Views/Shared/_Layout.cshtml";

<h1>Привет, мир!</h1>
```

### Секции

Секции позволяют дочерним представлениям вставлять свой контент в определенные места в шаблоне представления.

#### Определение секций

В шаблоне представления используйте `@RenderSection` или `@await RenderSectionAsync`, чтобы определить местоположение секции:

```html
<head>
    @await RenderSectionAsync("Styles", required: false) 
</head>
```

* `@RenderSection("НазваниеСекции", required: true/false)`: определяет секцию с заданным именем. Параметр `required` указывает, является ли секция обязательной.

#### Реализация секций

В дочерних представлениях используйте `@section`, чтобы определить содержимое секции:

```html
@section Styles {
    <link rel="stylesheet" href="~/css/custom.css" />
}
```

### Пример использования секций

1. Добавьте секцию "Scripts" в шаблон представления:

```html
<body>
    <!-- ... -->
    @await RenderSectionAsync("Scripts", required: false) 
</body>
```

2. Добавьте секцию "Scripts" в дочернее представление:

```html
@section Scripts {
    <script>
        // Ваш скрипт здесь
    </script>
}
```

### Заключение

Шаблоны и секции — это мощные инструменты для создания модульных и многоразовых компонентов пользовательского интерфейса в ASP.NET Core. Использование шаблонов и секций улучшает структуру проекта, упрощает обслуживание кода и ускоряет разработку веб-приложений.
