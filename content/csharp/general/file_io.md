## Чтение и запись файлов

Работа с файловой системой является важной частью многих приложений. Язык C# предоставляет широкие возможности для чтения и записи файлов. В этом разделе мы рассмотрим основные операции с файлами.

### Чтение из файла

Для чтения данных из файла можно воспользоваться классом `File` и его статическим методом `ReadAllText`. Этот метод принимает путь к файлу в качестве аргумента и возвращает строку, содержащую все содержимое файла.

**Пример:**

```csharp
string filePath = "example.txt";

// Читаем все содержимое файла в строку
string fileContent = File.ReadAllText(filePath);

// Выводим содержимое файла в консоль
Console.WriteLine(fileContent);
```

В этом примере мы сначала определяем переменную `filePath`, которая хранит путь к файлу "example.txt". Затем мы используем `File.ReadAllText(filePath)`, чтобы прочитать все содержимое файла в строку `fileContent`. Наконец, мы выводим содержимое файла в консоль.

### Запись в файл

Для записи данных в файл можно использовать статический метод `WriteAllText` класса `File`. Этот метод принимает два аргумента: путь к файлу и строку, которую нужно записать в файл.

**Пример:**

```csharp
string filePath = "example.txt";
string textToWrite = "Привет, мир!";

// Записываем строку в файл
File.WriteAllText(filePath, textToWrite);

Console.WriteLine("Данные успешно записаны в файл.");
```

В этом примере мы сначала определяем переменные `filePath` и `textToWrite`, которые хранят путь к файлу и строку для записи, соответственно. Затем мы используем `File.WriteAllText(filePath, textToWrite)`, чтобы записать строку в файл. 

### Работа с потоками

Классы `StreamReader` и `StreamWriter` предоставляют более гибкий способ чтения и записи файлов, позволяя работать с файлами побайтно или построчно.

**Пример чтения файла с использованием StreamReader:**

```csharp
string filePath = "example.txt";

// Создаем новый экземпляр StreamReader
using StreamReader reader = new StreamReader(filePath);

string line;

// Читаем файл построчно до конца файла
while ((line = reader.ReadLine()) != null)
{
    Console.WriteLine(line);
}
```

В этом примере мы создаем новый экземпляр `StreamReader`, передавая ему путь к файлу. Затем мы используем цикл `while`, чтобы читать файл построчно, пока не достигнем конца файла. Внутри цикла мы используем `reader.ReadLine()`, чтобы прочитать текущую строку, и выводим ее в консоль.

**Пример записи в файл с использованием StreamWriter:**

```csharp
string filePath = "example.txt";

// Создаем новый экземпляр StreamWriter
using StreamWriter writer = new StreamWriter(filePath);

// Записываем строки в файл
writer.WriteLine("Первая строка.");
writer.WriteLine("Вторая строка.");

Console.WriteLine("Данные успешно записаны в файл.");
```

В этом примере мы создаем новый экземпляр `StreamWriter`, передавая ему путь к файлу. Затем мы используем `writer.WriteLine()`, чтобы записать две строки в файл.

### Проверка существования файла

Перед тем как читать или записывать данные в файл, полезно проверить, существует ли файл. Для этого можно воспользоваться статическим методом `Exists` класса `File`.

**Пример:**

```csharp
string filePath = "example.txt";

// Проверяем, существует ли файл
if (File.Exists(filePath))
{
    // Читаем содержимое файла
    string fileContent = File.ReadAllText(filePath);
    Console.WriteLine(fileContent);
}
else
{
    Console.WriteLine("Файл не найден.");
}
```

В этом примере мы сначала проверяем, существует ли файл, используя `File.Exists(filePath)`. Если файл существует, мы читаем его содержимое и выводим его в консоль. В противном случае выводим сообщение о том, что файл не найден.


### Заключение

В этом разделе были рассмотрены основы работы с файлами в C#. Вы узнали, как читать и записывать данные в файлы, используя как высокоуровневые методы класса `File`, так и более низкоуровневые классы `StreamReader` и `StreamWriter`. 
