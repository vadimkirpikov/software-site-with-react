## Использование регулярных выражений в C#

Регулярные выражения - мощный инструмент для работы с текстом, позволяющий находить, проверять и изменять строки по заданным шаблонам. C# предоставляет встроенные средства для работы с регулярными выражениями через пространство имен `System.Text.RegularExpressions`.

### Основы регулярных выражений

Регулярные выражения состоят из комбинации обычных символов и специальных метасимволов, определяющих шаблон поиска. 

#### Литералы
 
Литералы - это обычные символы, которые ищутся в тексте буквально.

| Символ | Описание |
|---|---|
| `a` | Буква 'a' |
| `1` | Цифра '1' |
| `.` | Точка '.' |

#### Метасимволы

Метасимволы имеют специальное значение в регулярных выражениях и используются для определения более сложных шаблонов.

| Метасимвол | Описание |
|---|---|
| `.` | Любой одиночный символ |
| `*` | Ноль или более повторений предыдущего символа/группы |
| `+` | Одно или более повторений предыдущего символа/группы |
| `?` | Ноль или одно вхождение предыдущего символа/группы |
| `[]` | Набор символов. Ищет один символ из набора |
| `[^]` | Отрицание набора символов. Ищет любой символ, кроме указанных в наборе |
| `()` | Группировка символов |
| `|` | Логическое ИЛИ |
| `^` | Начало строки |
| `$` | Конец строки |

#### Классы символов

Классы символов позволяют сокращённо задавать группы символов.

| Класс символов | Описание |
|---|---|
| `\d` | Любая цифра (0-9) |
| `\D` | Любой символ, кроме цифры |
| `\w` | Буквенно-цифровой символ (a-z, A-Z, 0-9, _) |
| `\W` | Любой символ, кроме буквенно-цифрового |
| `\s` | Пробельный символ (пробел, табуляция, перенос строки) |
| `\S` | Любой символ, кроме пробельного |

### Класс Regex

Класс `Regex` является основным классом для работы с регулярными выражениями в C#.

#### Создание объекта Regex

```csharp
string pattern = @"\d+"; // Шаблон для поиска одного или более чисел
Regex regex = new Regex(pattern); 
```

#### Метод IsMatch()

Метод `IsMatch()` проверяет, соответствует ли строка заданному шаблону.

```csharp
string input = "123 Main Street";
bool isMatch = regex.IsMatch(input); // true
```

#### Метод Match()

Метод `Match()` возвращает первый найденный фрагмент текста, соответствующий шаблону.

```csharp
Match match = regex.Match(input);
if (match.Success)
{
    string matchedText = match.Value; // "123"
}
```

#### Метод Matches()

Метод `Matches()` возвращает коллекцию всех найденных фрагментов текста, соответствующих шаблону.

```csharp
foreach (Match match in regex.Matches(input))
{
    Console.WriteLine(match.Value);
}
// Вывод:
// 123
```

#### Метод Replace()

Метод `Replace()` заменяет все найденные фрагменты текста, соответствующие шаблону, на заданную строку.

```csharp
string replacedText = regex.Replace(input, "NUMBER"); // "NUMBER Main Street"
```

### Примеры использования

#### Проверка адреса электронной почты

```csharp
string email = "test@example.com";
string pattern = @"^[^@\s]+@[^@\s]+\.[^@\s]+$"; // Проверка наличия @ и . в адресе
Regex regex = new Regex(pattern);

if (regex.IsMatch(email))
{
    Console.WriteLine("Адрес электронной почты корректен");
}
else
{
    Console.WriteLine("Неверный адрес электронной почты");
}
```

#### Извлечение чисел из текста

```csharp
string text = "В тексте есть числа: 10, 25, и 100.";
string pattern = @"\d+"; // Поиск одного или более чисел
MatchCollection matches = Regex.Matches(text, pattern);

foreach (Match match in matches)
{
    Console.WriteLine(match.Value);
}
// Вывод:
// 10
// 25
// 100
```

#### Замена дат на другой формат

```csharp
string date = "2023-10-27";
string pattern = @"(\d{4})-(\d{2})-(\d{2})"; // Разбиение даты на группы
string replacement = "$3/$2/$1"; // Изменение порядка групп
string newDate = Regex.Replace(date, pattern, replacement); // "27/10/2023"
```

### Заключение

Регулярные выражения являются мощным инструментом для обработки текста, позволяющим решать широкий спектр задач. В C# работа с регулярными выражениями осуществляется с помощью класса `Regex` и его методов. Понимание основ регулярных выражений и умение применять их на практике значительно расширяет возможности разработчика при работе с текстовыми данными. 
